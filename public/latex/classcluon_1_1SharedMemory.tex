\hypertarget{classcluon_1_1SharedMemory}{}\doxysection{cluon\+::Shared\+Memory Class Reference}
\label{classcluon_1_1SharedMemory}\index{cluon::SharedMemory@{cluon::SharedMemory}}


{\ttfamily \#include $<$cluon-\/complete.\+hpp$>$}



Collaboration diagram for cluon\+::Shared\+Memory\+:
% FIG 0
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader}{Shared\+Memory\+Header}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcluon_1_1SharedMemory_a59fc6993147a946cc3078f1d6e679501}{Shared\+Memory}} (const std\+::string \&\mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name}}, uint32\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a3abd31631f8b51f791da66615671ff1b}{size}}=0) noexcept
\item 
\mbox{\hyperlink{classcluon_1_1SharedMemory_abece6ca0b0c8cd19d058aa3d2343e4e3}{$\sim$\+Shared\+Memory}} () noexcept
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}{is\+Locked}} () const noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_ad7f048d68730ccd182ad8a436949fa09}{wait}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a5718505eff4ac4c8f47305b68a8251a1}{notify\+All}} () noexcept
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_a242387ce57180dd51ad9c4cd37e0a21f}{set\+Time\+Stamp}} (const \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp}{cluon\+::data\+::\+Time\+Stamp}} \&ts) noexcept
\item 
std\+::pair$<$ bool, \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp}{cluon\+::data\+::\+Time\+Stamp}} $>$ \mbox{\hyperlink{classcluon_1_1SharedMemory_a37eec40b45c7c4301ffa602772178661}{get\+Time\+Stamp}} () noexcept
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}} () noexcept
\item 
char $\ast$ \mbox{\hyperlink{classcluon_1_1SharedMemory_ad05caf30d9dd7444f7bef1319b31d622}{data}} () noexcept
\item 
uint32\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a3abd31631f8b51f791da66615671ff1b}{size}} () const noexcept
\item 
const std\+::string \mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name}} () const noexcept
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcluon_1_1SharedMemory_aadc744d396b38ea0325b074b60ff7738}{Shared\+Memory}} (const \mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&)=delete
\item 
\mbox{\hyperlink{classcluon_1_1SharedMemory_a0dd53d251294ed8d2ed2d2511e07879a}{Shared\+Memory}} (\mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&\&)=delete
\item 
\mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \& \mbox{\hyperlink{classcluon_1_1SharedMemory_a48783898414a4db7420e0ba6be87d19e}{operator=}} (const \mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&)=delete
\item 
\mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \& \mbox{\hyperlink{classcluon_1_1SharedMemory_a818342fa644b590520d930eda1859407}{operator=}} (\mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&\&)=delete
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}{lock\+POSIX}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}{unlock\+POSIX}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{wait\+POSIX}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}{notify\+All\+POSIX}} () noexcept
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}{valid\+POSIX}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+SysV}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+SysV}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}{lock\+SysV}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}{unlock\+SysV}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}{wait\+SysV}} () noexcept
\item 
void \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notify\+All\+SysV}} () noexcept
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+SysV}} () noexcept
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}} \{\char`\"{}\char`\"{}\}
\item 
std\+::string \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\+\_\+name\+For\+Time\+Stamping}} \{\char`\"{}\char`\"{}\}
\item 
uint32\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}} \{0\}
\item 
char $\ast$ \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}} \{nullptr\}
\item 
char $\ast$ \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\+\_\+user\+Accessible\+Shared\+Memory}} \{nullptr\}
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\+\_\+has\+Only\+Attached\+To\+Shared\+Memory}} \{false\}
\item 
std\+::atomic$<$ bool $>$ \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}} \{false\}
\item 
std\+::atomic$<$ bool $>$ \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\+\_\+is\+Locked}} \{false\}
\item 
int32\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\+\_\+fd\+For\+Time\+Stamping}} \{-\/1\}
\item 
bool \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}} \{true\}
\item 
int32\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\+\_\+fd}} \{-\/1\}
\item 
\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader}{Shared\+Memory\+Header}} $\ast$ \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}} \{nullptr\}
\item 
key\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\+\_\+shm\+Key\+SysV}} \{0\}
\item 
key\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\+\_\+mutex\+Key\+SysV}} \{0\}
\item 
key\+\_\+t \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\+\_\+condition\+Key\+SysV}} \{0\}
\item 
int \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\+\_\+shared\+Memory\+IDSysV}} \{-\/1\}
\item 
int \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\+\_\+mutex\+IDSysV}} \{-\/1\}
\item 
int \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\+\_\+condition\+IDSysV}} \{-\/1\}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcluon_1_1SharedMemory_aadc744d396b38ea0325b074b60ff7738}\label{classcluon_1_1SharedMemory_aadc744d396b38ea0325b074b60ff7738}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!SharedMemory@{SharedMemory}}
\index{SharedMemory@{SharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{SharedMemory()}{SharedMemory()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily cluon\+::\+Shared\+Memory\+::\+Shared\+Memory (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a0dd53d251294ed8d2ed2d2511e07879a}\label{classcluon_1_1SharedMemory_a0dd53d251294ed8d2ed2d2511e07879a}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!SharedMemory@{SharedMemory}}
\index{SharedMemory@{SharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{SharedMemory()}{SharedMemory()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily cluon\+::\+Shared\+Memory\+::\+Shared\+Memory (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a59fc6993147a946cc3078f1d6e679501}\label{classcluon_1_1SharedMemory_a59fc6993147a946cc3078f1d6e679501}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!SharedMemory@{SharedMemory}}
\index{SharedMemory@{SharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{SharedMemory()}{SharedMemory()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily cluon\+::\+Shared\+Memory\+::\+Shared\+Memory (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{uint32\+\_\+t}]{size = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Constructor.


\begin{DoxyParams}{Parameters}
{\em name} & Name of the shared memory area; must start with / and must not be longer than NAME\+\_\+\+MAX (255) on POSIX or PATH\+\_\+\+MAX on WIN32. If the name is missing a leading \textquotesingle{}/\textquotesingle{} or is longer than 255, it will be adjusted accordingly. \\
\hline
{\em size} & of the shared memory area to create; if size is 0, the class tries to attach to an existing area. \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{14828     : \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3abd31631f8b51f791da66615671ff1b}{size}}) \{}
\DoxyCodeLine{14829     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name}}.empty()) \{}
\DoxyCodeLine{14830 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14831         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} MAX\_LENGTH\_NAME\{MAX\_PATH\};}
\DoxyCodeLine{14832 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14833         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} MAX\_LENGTH\_NAME\{254\};}
\DoxyCodeLine{14834 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14835         \textcolor{keyword}{const} std::string n\{\mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name}}.substr(0, (\mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name}}.size() > MAX\_LENGTH\_NAME ? MAX\_LENGTH\_NAME : \mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name}}.size()))\};}
\DoxyCodeLine{14836         \textcolor{keywordflow}{if} (\textcolor{charliteral}{'/'} != n[0]) \{}
\DoxyCodeLine{14837             \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} = \textcolor{stringliteral}{"{}/"{}};}
\DoxyCodeLine{14838         \}}
\DoxyCodeLine{14839 }
\DoxyCodeLine{14840 \textcolor{preprocessor}{\#ifndef WIN32}}
\DoxyCodeLine{14841 \textcolor{preprocessor}{\#if defined(\_\_NetBSD\_\_) || defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{14842         std::clog << \textcolor{stringliteral}{"{}[cluon::SharedMemory] Found NetBSD or OpenBSD; using SysV implementation."{}} << std::endl;}
\DoxyCodeLine{14843         \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}} = \textcolor{keyword}{false};}
\DoxyCodeLine{14844 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14845         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *CLUON\_SHAREDMEMORY\_POSIX = getenv(\textcolor{stringliteral}{"{}CLUON\_SHAREDMEMORY\_POSIX"{}});}
\DoxyCodeLine{14846         \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}                           = ((\textcolor{keyword}{nullptr} != CLUON\_SHAREDMEMORY\_POSIX) \&\& (CLUON\_SHAREDMEMORY\_POSIX[0] == \textcolor{charliteral}{'1'}));}
\DoxyCodeLine{14847         std::clog << \textcolor{stringliteral}{"{}[cluon::SharedMemory] Using "{}} << (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}} ? \textcolor{stringliteral}{"{}POSIX"{}} : \textcolor{stringliteral}{"{}SysV"{}}) << \textcolor{stringliteral}{"{} implementation."{}} << std::endl;}
\DoxyCodeLine{14848 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14849         \textcolor{comment}{// Define filename for timestamping.}}
\DoxyCodeLine{14850         \textcolor{keywordflow}{if} (0 != n.find(\textcolor{stringliteral}{"{}/tmp"{}})) \{}
\DoxyCodeLine{14851             \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}} = \textcolor{stringliteral}{"{}/tmp"{}} + \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}};}
\DoxyCodeLine{14852 }
\DoxyCodeLine{14853             \textcolor{comment}{// For NetBSD and OpenBSD or for the SysV-\/based implementation, we put all token files to /tmp.}}
\DoxyCodeLine{14854             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14855                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}};}
\DoxyCodeLine{14856             \}}
\DoxyCodeLine{14857         \}}
\DoxyCodeLine{14858 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14859 }
\DoxyCodeLine{14860         \textcolor{comment}{// Name of the shared memory.}}
\DoxyCodeLine{14861         \{}
\DoxyCodeLine{14862             \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} += n;}
\DoxyCodeLine{14863             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.size() > MAX\_LENGTH\_NAME) \{}
\DoxyCodeLine{14864                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.substr(0, MAX\_LENGTH\_NAME);}
\DoxyCodeLine{14865             \}}
\DoxyCodeLine{14866         \}}
\DoxyCodeLine{14867 }
\DoxyCodeLine{14868         \textcolor{comment}{// Name of the file for timestamping.}}
\DoxyCodeLine{14869         \{}
\DoxyCodeLine{14870             \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}} += n;}
\DoxyCodeLine{14871             \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}}.size() > MAX\_LENGTH\_NAME) \{}
\DoxyCodeLine{14872                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}}.substr(0, MAX\_LENGTH\_NAME);}
\DoxyCodeLine{14873             \}}
\DoxyCodeLine{14874         \}}
\DoxyCodeLine{14875 }
\DoxyCodeLine{14876 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14877         initWIN32();}
\DoxyCodeLine{14878 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14879         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14880             \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{initPOSIX}}();}
\DoxyCodeLine{14881         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{14882             \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{initSysV}}();}
\DoxyCodeLine{14883         \}}
\DoxyCodeLine{14884 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14885     \}}
\DoxyCodeLine{14886 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcluon_1_1SharedMemory_abece6ca0b0c8cd19d058aa3d2343e4e3}\label{classcluon_1_1SharedMemory_abece6ca0b0c8cd19d058aa3d2343e4e3}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!````~SharedMemory@{$\sim$SharedMemory}}
\index{````~SharedMemory@{$\sim$SharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{$\sim$SharedMemory()}{~SharedMemory()}}
{\footnotesize\ttfamily cluon\+::\+Shared\+Memory\+::$\sim$\+Shared\+Memory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{14888                                             \{}
\DoxyCodeLine{14889 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14890     deinitWIN32();}
\DoxyCodeLine{14891 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14892     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14893         \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinitPOSIX}}();}
\DoxyCodeLine{14894     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{14895         \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinitSysV}}();}
\DoxyCodeLine{14896     \}}
\DoxyCodeLine{14897 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14898 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}}.

Here is the call graph for this function\+:
% FIG 1


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcluon_1_1SharedMemory_ad05caf30d9dd7444f7bef1319b31d622}\label{classcluon_1_1SharedMemory_ad05caf30d9dd7444f7bef1319b31d622}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!data@{data}}
\index{data@{data}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily char $\ast$ cluon\+::\+Shared\+Memory\+::data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

\begin{DoxyReturn}{Returns}
Pointer to the raw shared memory or nullptr in case of invalid shared memory. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{15033                                          \{}
\DoxyCodeLine{15034     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\_userAccessibleSharedMemory}};}
\DoxyCodeLine{15035 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\+\_\+user\+Accessible\+Shared\+Memory}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}\label{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!deinitPOSIX@{deinitPOSIX}}
\index{deinitPOSIX@{deinitPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{deinitPOSIX()}{deinitPOSIX()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::deinit\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15385                                                \{}
\DoxyCodeLine{15386 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15387     \textcolor{keywordflow}{if} ((\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}) \&\& (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}})) \{}
\DoxyCodeLine{15388         \textcolor{comment}{// Wake any waiting threads as we are going to end the shared memory session.}}
\DoxyCodeLine{15389         ::pthread\_cond\_broadcast(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{\_\_condition}}));}
\DoxyCodeLine{15390         ::pthread\_cond\_destroy(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{\_\_condition}}));}
\DoxyCodeLine{15391         ::pthread\_mutex\_destroy(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{\_\_mutex}}));}
\DoxyCodeLine{15392     \}}
\DoxyCodeLine{15393     \textcolor{keywordflow}{if} ((\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \&\& ::munmap(\mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}, \textcolor{keyword}{sizeof}(SharedMemoryHeader) + \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}})) \{}
\DoxyCodeLine{15394 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15395         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to unmap shared memory: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15396 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15397     \}}
\DoxyCodeLine{15398     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}} \&\& (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \&\& (-\/1 == ::shm\_unlink(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str()) \&\& (ENOENT != errno))) \{}
\DoxyCodeLine{15399 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15400         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to unlink shared memory: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15401 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15402     \}}
\DoxyCodeLine{15403 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15404 }
\DoxyCodeLine{15405 \textcolor{preprocessor}{\#ifndef \_\_linux\_\_}}
\DoxyCodeLine{15406     \textcolor{comment}{// On *BSDs, the POSIX shared memory lives not in /dev/shm and we have}}
\DoxyCodeLine{15407     \textcolor{comment}{// used a separate file for timestamping.}}
\DoxyCodeLine{15408     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}}) \{}
\DoxyCodeLine{15409         ::close(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}});}
\DoxyCodeLine{15410         ::unlink(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}}.c\_str());}
\DoxyCodeLine{15411     \}}
\DoxyCodeLine{15412 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15413 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+condition}}, \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+mutex}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\+\_\+fd}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\+\_\+fd\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\+\_\+has\+Only\+Attached\+To\+Shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\+\_\+name\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_abece6ca0b0c8cd19d058aa3d2343e4e3}{$\sim$\+Shared\+Memory()}}.

Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}\label{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!deinitSysV@{deinitSysV}}
\index{deinitSysV@{deinitSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{deinitSysV()}{deinitSysV()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::deinit\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15710                                               \{}
\DoxyCodeLine{15711     \textcolor{keywordflow}{if} (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15712         \textcolor{comment}{// Close token file.}}
\DoxyCodeLine{15713         ::close(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}});}
\DoxyCodeLine{15714         \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}} = -\/1;}
\DoxyCodeLine{15715 }
\DoxyCodeLine{15716         \textcolor{keywordflow}{if} (-\/1 == ::shmdt(\mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}})) \{}
\DoxyCodeLine{15717 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15718             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Could not detach shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15719 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15720         \}}
\DoxyCodeLine{15721     \}}
\DoxyCodeLine{15722 }
\DoxyCodeLine{15723     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}}) \{}
\DoxyCodeLine{15724         \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notifyAllSysV}}();}
\DoxyCodeLine{15725 }
\DoxyCodeLine{15726         \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}) \{}
\DoxyCodeLine{15727             \textcolor{keywordflow}{if} (-\/1 == ::semctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}, 0, IPC\_RMID)) \{}
\DoxyCodeLine{15728                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec}
\DoxyCodeLine{15729                           << \textcolor{stringliteral}{"{}) used as condition could not be removed: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15730             \}}
\DoxyCodeLine{15731         \}}
\DoxyCodeLine{15732 }
\DoxyCodeLine{15733         \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}) \{}
\DoxyCodeLine{15734             \textcolor{keywordflow}{if} (-\/1 == ::semctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}, 0, IPC\_RMID)) \{}
\DoxyCodeLine{15735                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec}
\DoxyCodeLine{15736                           << \textcolor{stringliteral}{"{}) used as mutex could not be removed: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15737             \}}
\DoxyCodeLine{15738         \}}
\DoxyCodeLine{15739         \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}) \{}
\DoxyCodeLine{15740             \textcolor{keywordflow}{if} (-\/1 == ::shmctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}, IPC\_RMID, 0)) \{}
\DoxyCodeLine{15741                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec}
\DoxyCodeLine{15742                           << \textcolor{stringliteral}{"{}) could not be removed: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15743             \}}
\DoxyCodeLine{15744         \}}
\DoxyCodeLine{15745 }
\DoxyCodeLine{15746         \textcolor{keywordflow}{if} (-\/1 == ::unlink(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str())) \{}
\DoxyCodeLine{15747             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Token file '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}' could not be removed: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}}}
\DoxyCodeLine{15748                       << std::endl;}
\DoxyCodeLine{15749         \}}
\DoxyCodeLine{15750     \}}
\DoxyCodeLine{15751 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\+\_\+condition\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\+\_\+condition\+Key\+SysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\+\_\+fd\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\+\_\+has\+Only\+Attached\+To\+Shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\+\_\+mutex\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\+\_\+mutex\+Key\+SysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\+\_\+shared\+Memory\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\+\_\+shm\+Key\+SysV}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notify\+All\+Sys\+V()}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_abece6ca0b0c8cd19d058aa3d2343e4e3}{$\sim$\+Shared\+Memory()}}.

Here is the call graph for this function\+:
% FIG 3
Here is the caller graph for this function\+:
% FIG 4
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a37eec40b45c7c4301ffa602772178661}\label{classcluon_1_1SharedMemory_a37eec40b45c7c4301ffa602772178661}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!getTimeStamp@{getTimeStamp}}
\index{getTimeStamp@{getTimeStamp}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{getTimeStamp()}{getTimeStamp()}}
{\footnotesize\ttfamily std\+::pair$<$ bool, \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp}{cluon\+::data\+::\+Time\+Stamp}} $>$ cluon\+::\+Shared\+Memory\+::get\+Time\+Stamp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

This method returns the sample time stamp.

This method is only allowed when the shared memory is locked.

\begin{DoxyReturn}{Returns}
(true, sample time stamp) or (false, 0) in case if the shared memory was not locked. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{14996                                                                              \{}
\DoxyCodeLine{14997     \textcolor{keywordtype}{bool} \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{14998     \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp}{cluon::data::TimeStamp}} sampleTimeStamp;}
\DoxyCodeLine{14999 }
\DoxyCodeLine{15000 \textcolor{preprocessor}{\#ifndef WIN32}}
\DoxyCodeLine{15001     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}{isLocked}}())) \{}
\DoxyCodeLine{15002         \textcolor{keyword}{struct }stat fileStatus;}
\DoxyCodeLine{15003         \textcolor{keyword}{auto} r = fstat(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}}, \&fileStatus);}
\DoxyCodeLine{15004         \textcolor{keywordflow}{if} (0 == r) \{}
\DoxyCodeLine{15005 \textcolor{preprocessor}{\#ifdef \_\_APPLE\_\_}}
\DoxyCodeLine{15006             sampleTimeStamp.\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_ac8c0f1d9f06177d7dd8568261fe14dac}{seconds}}(\textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(fileStatus.st\_mtimespec.tv\_sec))}
\DoxyCodeLine{15007                            .\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_a6330ea6b06cdce2b2a30098f3ec87a9a}{microseconds}}(\textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(fileStatus.st\_mtimespec.tv\_nsec/1000));}
\DoxyCodeLine{15008 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{15009             sampleTimeStamp.\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_ac8c0f1d9f06177d7dd8568261fe14dac}{seconds}}(\textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(fileStatus.st\_mtim.tv\_sec))}
\DoxyCodeLine{15010                            .\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_a6330ea6b06cdce2b2a30098f3ec87a9a}{microseconds}}(\textcolor{keyword}{static\_cast<}int32\_t\textcolor{keyword}{>}(fileStatus.st\_mtim.tv\_nsec/1000));}
\DoxyCodeLine{15011 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15012         \}}
\DoxyCodeLine{15013     \}}
\DoxyCodeLine{15014 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15015 }
\DoxyCodeLine{15016     \textcolor{keywordflow}{return} std::make\_pair(\mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}, sampleTimeStamp);}
\DoxyCodeLine{15017 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}{is\+Locked()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\+\_\+fd\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_a6330ea6b06cdce2b2a30098f3ec87a9a}{cluon\+::data\+::\+Time\+Stamp\+::microseconds()}}, \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{ret\+Val}}, and \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_ac8c0f1d9f06177d7dd8568261fe14dac}{cluon\+::data\+::\+Time\+Stamp\+::seconds()}}.

Here is the call graph for this function\+:
% FIG 5
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}\label{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!initPOSIX@{initPOSIX}}
\index{initPOSIX@{initPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{initPOSIX()}{initPOSIX()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::init\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15240                                              \{}
\DoxyCodeLine{15241 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15242     \textcolor{comment}{// If size is greater than 0, the caller wants to create a new shared}}
\DoxyCodeLine{15243     \textcolor{comment}{// memory area. Otherwise, the caller wants to open an existing shared memory.}}
\DoxyCodeLine{15244     \textcolor{keywordtype}{int} flags = O\_RDWR;}
\DoxyCodeLine{15245     \textcolor{keywordflow}{if} (0 < \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}) \{}
\DoxyCodeLine{15246         flags |= O\_CREAT | O\_EXCL;}
\DoxyCodeLine{15247     \}}
\DoxyCodeLine{15248 }
\DoxyCodeLine{15249     \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}} = ::shm\_open(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), flags, S\_IRUSR | S\_IWUSR);}
\DoxyCodeLine{15250     \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \{}
\DoxyCodeLine{15251 \textcolor{comment}{// clang-\/format off}}
\DoxyCodeLine{15252         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to open shared memory '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}': "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15253 \textcolor{comment}{// clang-\/format on}}
\DoxyCodeLine{15254         \textcolor{comment}{// Try to remove existing shared memory segment and try again.}}
\DoxyCodeLine{15255         \textcolor{keywordflow}{if} ((flags \& O\_CREAT) == O\_CREAT) \{}
\DoxyCodeLine{15256             std::clog << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Trying to remove existing shared memory '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}' and trying again... "{}};}
\DoxyCodeLine{15257             \textcolor{keywordflow}{if} (0 == ::shm\_unlink(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str())) \{}
\DoxyCodeLine{15258                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}} = ::shm\_open(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), flags, S\_IRUSR | S\_IWUSR);}
\DoxyCodeLine{15259             \}}
\DoxyCodeLine{15260 }
\DoxyCodeLine{15261             \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \{}
\DoxyCodeLine{15262                 std::cerr << \textcolor{stringliteral}{"{}failed: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15263             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15264                 std::cerr << \textcolor{stringliteral}{"{}succeeded."{}} << std::endl;}
\DoxyCodeLine{15265             \}}
\DoxyCodeLine{15266         \}}
\DoxyCodeLine{15267     \}}
\DoxyCodeLine{15268 }
\DoxyCodeLine{15269     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \{}
\DoxyCodeLine{15270         \textcolor{keywordtype}{bool} \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{15271 }
\DoxyCodeLine{15272         \textcolor{comment}{// When creating a shared memory segment, truncate it.}}
\DoxyCodeLine{15273         \textcolor{keywordflow}{if} (0 < \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}) \{}
\DoxyCodeLine{15274             \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}} = (0 == ::ftruncate(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}, \textcolor{keyword}{static\_cast<}off\_t\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(SharedMemoryHeader) + \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}})));}
\DoxyCodeLine{15275             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}) \{}
\DoxyCodeLine{15276 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15277                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to truncate '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}': "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15278 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15279             \}}
\DoxyCodeLine{15280         \}}
\DoxyCodeLine{15281 }
\DoxyCodeLine{15282         \textcolor{comment}{// Accessing shared memory segment.}}
\DoxyCodeLine{15283         \textcolor{keywordflow}{if} (\mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}) \{}
\DoxyCodeLine{15284             \textcolor{comment}{// On opening (i.e., NOT creating) a shared memory segment, m\_size is still 0 and we need to figure out the size first.}}
\DoxyCodeLine{15285             \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(::mmap(0, \textcolor{keyword}{sizeof}(SharedMemoryHeader) + \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}, PROT\_READ | PROT\_WRITE, MAP\_SHARED, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}, 0));}
\DoxyCodeLine{15286             \textcolor{keywordflow}{if} (MAP\_FAILED != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15287                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}} = \textcolor{keyword}{reinterpret\_cast<}SharedMemoryHeader *\textcolor{keyword}{>}(\mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}});}
\DoxyCodeLine{15288 }
\DoxyCodeLine{15289                 \textcolor{comment}{// On creating (i.e., NOT opening) a shared memory segment, setup the shared memory header.}}
\DoxyCodeLine{15290                 \textcolor{keywordflow}{if} (0 < \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}) \{}
\DoxyCodeLine{15291                     \textcolor{comment}{// Store user accessible size in shared memory.}}
\DoxyCodeLine{15292                     \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adf61719cd7e763517cd28a007a567a24}{\_\_size}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}};}
\DoxyCodeLine{15293 }
\DoxyCodeLine{15294                     \textcolor{comment}{// Create process-\/shared mutex (fastest approach, cf. Stevens \& Rago: "{}Advanced Programming in the UNIX (R) Environment"{}).}}
\DoxyCodeLine{15295                     pthread\_mutexattr\_t mutexAttribute;}
\DoxyCodeLine{15296                     ::pthread\_mutexattr\_init(\&mutexAttribute);}
\DoxyCodeLine{15297                     ::pthread\_mutexattr\_setpshared(\&mutexAttribute, PTHREAD\_PROCESS\_SHARED); \textcolor{comment}{// Share between unrelated processes.}}
\DoxyCodeLine{15298 \textcolor{preprocessor}{\#ifndef \_\_APPLE\_\_}}
\DoxyCodeLine{15299                     ::pthread\_mutexattr\_setrobust(\&mutexAttribute, PTHREAD\_MUTEX\_ROBUST);    \textcolor{comment}{// Allow continuation of other processes waiting for this mutex}}
\DoxyCodeLine{15300                                                                                              \textcolor{comment}{// when the currently holding process unexpectedly terminates.}}
\DoxyCodeLine{15301 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15302                     ::pthread\_mutexattr\_settype(\&mutexAttribute, PTHREAD\_MUTEX\_NORMAL);      \textcolor{comment}{// Using regular mutex with deadlock behavior.}}
\DoxyCodeLine{15303                     ::pthread\_mutex\_init(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{\_\_mutex}}), \&mutexAttribute);}
\DoxyCodeLine{15304                     ::pthread\_mutexattr\_destroy(\&mutexAttribute);}
\DoxyCodeLine{15305 }
\DoxyCodeLine{15306                     \textcolor{comment}{// Create shared condition.}}
\DoxyCodeLine{15307                     pthread\_condattr\_t conditionAttribute;}
\DoxyCodeLine{15308                     ::pthread\_condattr\_init(\&conditionAttribute);}
\DoxyCodeLine{15309 \textcolor{preprocessor}{\#ifndef \_\_APPLE\_\_}}
\DoxyCodeLine{15310                     ::pthread\_condattr\_setclock(\&conditionAttribute, CLOCK\_MONOTONIC);          \textcolor{comment}{// Use realtime clock for timed waits with non-\/negative jumps.}}
\DoxyCodeLine{15311 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15312                     ::pthread\_condattr\_setpshared(\&conditionAttribute, PTHREAD\_PROCESS\_SHARED); \textcolor{comment}{// Share between unrelated processes.}}
\DoxyCodeLine{15313                     ::pthread\_cond\_init(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{\_\_condition}}), \&conditionAttribute);}
\DoxyCodeLine{15314                     ::pthread\_condattr\_destroy(\&conditionAttribute);}
\DoxyCodeLine{15315                 \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15316                     \textcolor{comment}{// Indicate that this instance is attaching to an existing shared memory segment.}}
\DoxyCodeLine{15317                     \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}} = \textcolor{keyword}{true};}
\DoxyCodeLine{15318 }
\DoxyCodeLine{15319                     \textcolor{comment}{// Read size as we are attaching to an existing shared memory.}}
\DoxyCodeLine{15320                     \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adf61719cd7e763517cd28a007a567a24}{\_\_size}};}
\DoxyCodeLine{15321 }
\DoxyCodeLine{15322                     \textcolor{comment}{// Now, as we know the real size, unmap the first mapping that did not know the size.}}
\DoxyCodeLine{15323                     \textcolor{keywordflow}{if} (::munmap(\mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}, \textcolor{keyword}{sizeof}(SharedMemoryHeader))) \{}
\DoxyCodeLine{15324 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15325                         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to unmap shared memory: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15326 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15327                     \}}
\DoxyCodeLine{15328 }
\DoxyCodeLine{15329                     \textcolor{comment}{// Invalidate all pointers.}}
\DoxyCodeLine{15330                     \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{15331                     \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{15332 }
\DoxyCodeLine{15333                     \textcolor{comment}{// Re-\/map with the correct size parameter.}}
\DoxyCodeLine{15334                     \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(::mmap(0, \textcolor{keyword}{sizeof}(SharedMemoryHeader) + \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}, PROT\_READ | PROT\_WRITE, MAP\_SHARED, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}, 0));}
\DoxyCodeLine{15335                     \textcolor{keywordflow}{if} (MAP\_FAILED != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15336                         \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}} = \textcolor{keyword}{reinterpret\_cast<}SharedMemoryHeader *\textcolor{keyword}{>}(\mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}});}
\DoxyCodeLine{15337                     \}}
\DoxyCodeLine{15338                 \}}
\DoxyCodeLine{15339             \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15340 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15341                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to map '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}': "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15342 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15343             \}}
\DoxyCodeLine{15344 }
\DoxyCodeLine{15345             \textcolor{comment}{// If the shared memory segment is correctly available, store the pointer for the user data.}}
\DoxyCodeLine{15346             \textcolor{keywordflow}{if} (MAP\_FAILED != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15347                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\_userAccessibleSharedMemory}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}} + \textcolor{keyword}{sizeof}(SharedMemoryHeader);}
\DoxyCodeLine{15348 }
\DoxyCodeLine{15349                 \textcolor{comment}{// Lock the shared memory into RAM for performance reasons.}}
\DoxyCodeLine{15350                 \textcolor{keywordflow}{if} (-\/1 == ::mlock(\mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}, \textcolor{keyword}{sizeof}(SharedMemoryHeader) + \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}})) \{}
\DoxyCodeLine{15351                     std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to mlock shared memory: "{}} \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15352                               << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;         \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15353                 \}}
\DoxyCodeLine{15354             \}}
\DoxyCodeLine{15355         \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15356             \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15357                 \textcolor{keywordflow}{if} (-\/1 == ::shm\_unlink(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str())) \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15358 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15359                     std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] Failed to unlink shared memory: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15360 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15361                 \}}
\DoxyCodeLine{15362             \}}
\DoxyCodeLine{15363             \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}} = -\/1; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15364         \}}
\DoxyCodeLine{15365     \}}
\DoxyCodeLine{15366 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15367 }
\DoxyCodeLine{15368 \textcolor{preprocessor}{\#ifdef \_\_linux\_\_}}
\DoxyCodeLine{15369     \textcolor{comment}{// On Linux, the POSIX shared memory lives in /dev/shm and we have a valid}}
\DoxyCodeLine{15370     \textcolor{comment}{// file descriptor to use for timestamping.}}
\DoxyCodeLine{15371     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \{}
\DoxyCodeLine{15372         \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}};}
\DoxyCodeLine{15373     \}}
\DoxyCodeLine{15374 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{15375 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15376     \textcolor{comment}{// On *BSDs, the POSIX shared memory lives not in /dev/shm and we have}}
\DoxyCodeLine{15377     \textcolor{comment}{// need to use a separate file for timestamping.}}
\DoxyCodeLine{15378     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \{}
\DoxyCodeLine{15379         \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}} = ::open(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\_nameForTimeStamping}}.c\_str(), O\_CREAT|O\_RDONLY, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15380     \}}
\DoxyCodeLine{15381 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15382 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15383 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+condition}}, \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+mutex}}, \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adf61719cd7e763517cd28a007a567a24}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+size}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\+\_\+fd}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\+\_\+fd\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\+\_\+has\+Only\+Attached\+To\+Shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}{m\+\_\+name\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\+\_\+user\+Accessible\+Shared\+Memory}}, and \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{ret\+Val}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}\label{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!initSysV@{initSysV}}
\index{initSysV@{initSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{initSysV()}{initSysV()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::init\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15472                                             \{}
\DoxyCodeLine{15473     \textcolor{comment}{// If size is greater than 0, the caller wants to create a new shared}}
\DoxyCodeLine{15474     \textcolor{comment}{// memory area. Otherwise, the caller wants to open an existing shared memory.}}
\DoxyCodeLine{15475 }
\DoxyCodeLine{15476     \textcolor{comment}{// Create a key to identify the shared memory area.}}
\DoxyCodeLine{15477     \textcolor{keyword}{constexpr} int32\_t ID\_SHM = 1;}
\DoxyCodeLine{15478     \textcolor{keyword}{constexpr} int32\_t ID\_SEM\_AS\_MUTEX = 2;}
\DoxyCodeLine{15479     \textcolor{keyword}{constexpr} int32\_t ID\_SEM\_AS\_CONDITION = 3;}
\DoxyCodeLine{15480     \textcolor{keywordtype}{bool} tokenFileExisting\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{15481 }
\DoxyCodeLine{15482     \textcolor{keywordflow}{if} (0 < \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}) \{}
\DoxyCodeLine{15483         \textcolor{comment}{// The file should not exist; otherwise, we need to clear an existing}}
\DoxyCodeLine{15484         \textcolor{comment}{// set of semaphores and shared memory areas.}}
\DoxyCodeLine{15485         std::fstream tokenFile(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), std::ios::in);}
\DoxyCodeLine{15486         \textcolor{keywordflow}{if} (tokenFile.good()) \{}
\DoxyCodeLine{15487             \textcolor{comment}{// Existing tokenFile found. Cleaning up will be tried in the code below.}}
\DoxyCodeLine{15488         \}}
\DoxyCodeLine{15489         tokenFile.close();}
\DoxyCodeLine{15490 }
\DoxyCodeLine{15491         tokenFile.open(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), std::ios::out);}
\DoxyCodeLine{15492         tokenFileExisting = tokenFile.good();}
\DoxyCodeLine{15493         \textcolor{keywordflow}{if} (!tokenFileExisting) \{}
\DoxyCodeLine{15494             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Token file '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}' could not be created; shared memory cannot be created."{}} << std::endl;}
\DoxyCodeLine{15495         \}}
\DoxyCodeLine{15496         tokenFile.close();}
\DoxyCodeLine{15497     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15498         \textcolor{comment}{// Open an existing shared memory area indicated by an existing token file.}}
\DoxyCodeLine{15499         \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}} = \textcolor{keyword}{true};}
\DoxyCodeLine{15500 }
\DoxyCodeLine{15501         std::fstream tokenFile(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), std::ios::in);}
\DoxyCodeLine{15502         tokenFileExisting = tokenFile.good();}
\DoxyCodeLine{15503         \textcolor{keywordflow}{if} (!tokenFileExisting) \{}
\DoxyCodeLine{15504             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Token file '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}' not found; shared memory cannot be created."{}} << std::endl;}
\DoxyCodeLine{15505         \}}
\DoxyCodeLine{15506         tokenFile.close();}
\DoxyCodeLine{15507     \}}
\DoxyCodeLine{15508 }
\DoxyCodeLine{15509     \textcolor{comment}{// We have a token file to be used for the keys.}}
\DoxyCodeLine{15510     \textcolor{keywordflow}{if} (tokenFileExisting) \{}
\DoxyCodeLine{15511         \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} = ::ftok(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), ID\_SHM);}
\DoxyCodeLine{15512         \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}}) \{}
\DoxyCodeLine{15513 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15514             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Key for shared memory could not be created: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15515 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15516         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15517             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}}) \{}
\DoxyCodeLine{15518                 \textcolor{comment}{// The caller wants to create a shared memory segment.}}
\DoxyCodeLine{15519 }
\DoxyCodeLine{15520                 \textcolor{comment}{// First, try to clean up an orphaned shared memory segment.}}
\DoxyCodeLine{15521                 \textcolor{comment}{// Therefore, we try to open the shared memory area without the}}
\DoxyCodeLine{15522                 \textcolor{comment}{// IPC\_CREAT flag. On a clean environment, this call must fail}}
\DoxyCodeLine{15523                 \textcolor{comment}{// as there should not be any shared memory segments left.}}
\DoxyCodeLine{15524                 \{}
\DoxyCodeLine{15525                     \textcolor{keywordtype}{int} orphanedSharedMemoryIDSysV = ::shmget(\mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}}, 0, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15526                     \textcolor{keywordflow}{if} (!(orphanedSharedMemoryIDSysV < 0)) \{}
\DoxyCodeLine{15527                         \textcolor{keywordflow}{if} (::shmctl(orphanedSharedMemoryIDSysV, IPC\_RMID, 0)) \{}
\DoxyCodeLine{15528 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15529                             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Existing shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}) found; removing failed."{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15530 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15531                         \}}
\DoxyCodeLine{15532                     \}}
\DoxyCodeLine{15533                 \}}
\DoxyCodeLine{15534 }
\DoxyCodeLine{15535                 \textcolor{comment}{// Now, create the shared memory segment.}}
\DoxyCodeLine{15536                 \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}} = ::shmget(\mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}, IPC\_CREAT | IPC\_EXCL | S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15537                 \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}) \{}
\DoxyCodeLine{15538                     \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}} = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(::shmat(\mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}, \textcolor{keyword}{nullptr}, 0));}
\DoxyCodeLine{15539 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{15540 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wold-\/style-\/cast"{}}}
\DoxyCodeLine{15541                     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{void} *)-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15542                         \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\_userAccessibleSharedMemory}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}};}
\DoxyCodeLine{15543                     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15544 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15545                         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to attach to shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15546 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15547                     \}}
\DoxyCodeLine{15548 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{15549                 \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15550 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15551                     std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to get to shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15552 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15553                 \}}
\DoxyCodeLine{15554             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15555                 \textcolor{comment}{// The caller wants to attach to an existing shared memory segment.}}
\DoxyCodeLine{15556                 \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}} = ::shmget(\mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}}, 0, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15557                 \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}) \{}
\DoxyCodeLine{15558                     \textcolor{keyword}{struct }shmid\_ds info;}
\DoxyCodeLine{15559                     \textcolor{keywordflow}{if} (-\/1 != ::shmctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}, IPC\_STAT, \&info)) \{}
\DoxyCodeLine{15560                         \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}} = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(info.shm\_segsz);}
\DoxyCodeLine{15561                         \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}} = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{char} *\textcolor{keyword}{>}(::shmat(\mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}, \textcolor{keyword}{nullptr}, 0));}
\DoxyCodeLine{15562 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{15563 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wold-\/style-\/cast"{}}}
\DoxyCodeLine{15564                         \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{void} *)-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15565                             \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\_userAccessibleSharedMemory}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}};}
\DoxyCodeLine{15566                         \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15567 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15568                             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to attach to shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15569 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15570                         \}}
\DoxyCodeLine{15571 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{15572                     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15573 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15574                         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Could not read information about shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15575 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15576                     \}}
\DoxyCodeLine{15577                 \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15578 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15579                     std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to get shared memory (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15580 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15581                 \}}
\DoxyCodeLine{15582             \}}
\DoxyCodeLine{15583         \}}
\DoxyCodeLine{15584 }
\DoxyCodeLine{15585         \textcolor{comment}{// Next, create the mutex (but only if the shared memory was acquired correctly.}}
\DoxyCodeLine{15586         \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} = ::ftok(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), ID\_SEM\_AS\_MUTEX);}
\DoxyCodeLine{15587         \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}}) \{}
\DoxyCodeLine{15588 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15589             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Key for mutex could not be created: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15590 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15591         \}}
\DoxyCodeLine{15592         \textcolor{keywordflow}{if} ((-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}}) \&\& (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}}) \&\& (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\_userAccessibleSharedMemory}})) \{}
\DoxyCodeLine{15593             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}}) \{}
\DoxyCodeLine{15594                 \textcolor{comment}{// The caller has created the shared memory segment and thus,}}
\DoxyCodeLine{15595                 \textcolor{comment}{// we need the corresponding mutex.}}
\DoxyCodeLine{15596 }
\DoxyCodeLine{15597                 \textcolor{comment}{// First, try to remove the orphaned one.}}
\DoxyCodeLine{15598                 \{}
\DoxyCodeLine{15599                     \textcolor{keywordtype}{int} orphanedMutexIDSysV = ::semget(\mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}}, 0, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15600                     \textcolor{keywordflow}{if} (!(orphanedMutexIDSysV < 0)) \{}
\DoxyCodeLine{15601                         \textcolor{keywordflow}{if} (::semctl(orphanedMutexIDSysV, 0, IPC\_RMID)) \{}
\DoxyCodeLine{15602 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15603                             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Existing semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as mutex) found; removing failed."{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15604 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15605                         \}}
\DoxyCodeLine{15606                     \}}
\DoxyCodeLine{15607                 \}}
\DoxyCodeLine{15608 }
\DoxyCodeLine{15609                 \textcolor{comment}{// Next, create the correct semaphore used as mutex.}}
\DoxyCodeLine{15610                 \{}
\DoxyCodeLine{15611                     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NSEMS\{1\};}
\DoxyCodeLine{15612                     \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}} = ::semget(\mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}}, NSEMS, IPC\_CREAT | IPC\_EXCL | S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15613                     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}) \{}
\DoxyCodeLine{15614                         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15615                         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} INITIAL\_VALUE\{1\};}
\DoxyCodeLine{15616                         \textcolor{keyword}{union }\mbox{\hyperlink{unionsemun}{semun}} tmp;}
\DoxyCodeLine{15617                         tmp.\mbox{\hyperlink{unionsemun_ac6121ecb6d04a024e07e12bd71b94031}{val}} = INITIAL\_VALUE;}
\DoxyCodeLine{15618 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{15619 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{15620 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wclass-\/varargs"{}}}
\DoxyCodeLine{15621 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15622                         \textcolor{keywordflow}{if} (-\/1 == ::semctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}, NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL, SETVAL, tmp)) \{}
\DoxyCodeLine{15623 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15624                             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to initialize semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as mutex): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15625 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15626                         \}}
\DoxyCodeLine{15627 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{15628                     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15629 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15630                         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to create semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as mutex): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15631 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15632                     \}}
\DoxyCodeLine{15633                 \}}
\DoxyCodeLine{15634             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15635                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}} = ::semget(\mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}}, 0, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15636                 \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}) \{}
\DoxyCodeLine{15637 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15638                     std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to get semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as mutex): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15639 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15640                 \}}
\DoxyCodeLine{15641             \}}
\DoxyCodeLine{15642         \}}
\DoxyCodeLine{15643 }
\DoxyCodeLine{15644         \textcolor{comment}{// Next, create the condition variable (but only if the shared memory was acquired correctly.}}
\DoxyCodeLine{15645         \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} = ::ftok(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), ID\_SEM\_AS\_CONDITION);}
\DoxyCodeLine{15646         \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}}) \{}
\DoxyCodeLine{15647 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15648             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Key for condition could not be created: "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15649 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15650         \}}
\DoxyCodeLine{15651         \textcolor{keywordflow}{if} ((-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\_shmKeySysV}}) \&\& (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}}) \&\& (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}}) \&\& (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\_userAccessibleSharedMemory}})) \{}
\DoxyCodeLine{15652             \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\_hasOnlyAttachedToSharedMemory}}) \{}
\DoxyCodeLine{15653                 \textcolor{comment}{// The caller has created the shared memory segment and thus,}}
\DoxyCodeLine{15654                 \textcolor{comment}{// we need the corresponding condition variable.}}
\DoxyCodeLine{15655 }
\DoxyCodeLine{15656                 \textcolor{comment}{// First, try to remove the orphaned one.}}
\DoxyCodeLine{15657                 \{}
\DoxyCodeLine{15658                     \textcolor{keywordtype}{int} orphanedConditionIDSysV = ::semget(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}}, 0, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15659                     \textcolor{keywordflow}{if} (!(orphanedConditionIDSysV < 0)) \{}
\DoxyCodeLine{15660                         \textcolor{keywordflow}{if} (::semctl(orphanedConditionIDSysV, 0, IPC\_RMID)) \{}
\DoxyCodeLine{15661 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15662                             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Existing semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as condition variable) found; removing failed."{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15663 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15664                         \}}
\DoxyCodeLine{15665                     \}}
\DoxyCodeLine{15666                 \}}
\DoxyCodeLine{15667 }
\DoxyCodeLine{15668                 \textcolor{comment}{// Next, create the correct semaphore used as condition variable.}}
\DoxyCodeLine{15669                 \{}
\DoxyCodeLine{15670                     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NSEMS\{1\};}
\DoxyCodeLine{15671                     \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}} = ::semget(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}}, NSEMS, IPC\_CREAT | IPC\_EXCL | S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15672                     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}) \{}
\DoxyCodeLine{15673                         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15674                         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} INITIAL\_VALUE\{1\};}
\DoxyCodeLine{15675                         \textcolor{keyword}{union }\mbox{\hyperlink{unionsemun}{semun}} tmp;}
\DoxyCodeLine{15676                         tmp.\mbox{\hyperlink{unionsemun_ac6121ecb6d04a024e07e12bd71b94031}{val}} = INITIAL\_VALUE;}
\DoxyCodeLine{15677 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{15678 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{15679 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wclass-\/varargs"{}}}
\DoxyCodeLine{15680 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15681                         \textcolor{keywordflow}{if} (-\/1 == ::semctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}, NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL, SETVAL, tmp)) \{}
\DoxyCodeLine{15682 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15683                             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to initialize semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as condition variable): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15684 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15685                         \}}
\DoxyCodeLine{15686 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{15687                     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15688 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15689                         std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to create semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as condition variable): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15690 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15691                     \}}
\DoxyCodeLine{15692                 \}}
\DoxyCodeLine{15693             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15694                 \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}} = ::semget(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}}, 0, S\_IRUSR | S\_IWUSR | S\_IRGRP | S\_IWGRP | S\_IROTH | S\_IWOTH);}
\DoxyCodeLine{15695                 \textcolor{keywordflow}{if} (-\/1 == \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}) \{}
\DoxyCodeLine{15696 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15697                     std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to get semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec << \textcolor{stringliteral}{"{}, intended to use as condition variable): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15698 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15699                 \}}
\DoxyCodeLine{15700             \}}
\DoxyCodeLine{15701         \}}
\DoxyCodeLine{15702     \}}
\DoxyCodeLine{15703 }
\DoxyCodeLine{15704     \textcolor{comment}{// If the shared memory is present, open the token file for the time stamping.}}
\DoxyCodeLine{15705     \textcolor{keywordflow}{if} (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \{}
\DoxyCodeLine{15706         \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}} = ::open(\mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}}.c\_str(), O\_RDONLY);}
\DoxyCodeLine{15707     \}}
\DoxyCodeLine{15708 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\+\_\+condition\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\+\_\+condition\+Key\+SysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\+\_\+fd\+For\+Time\+Stamping}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}{m\+\_\+has\+Only\+Attached\+To\+Shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\+\_\+mutex\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\+\_\+mutex\+Key\+SysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\+\_\+shared\+Memory\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}{m\+\_\+shm\+Key\+SysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}{m\+\_\+user\+Accessible\+Shared\+Memory}}, and \mbox{\hyperlink{unionsemun_ac6121ecb6d04a024e07e12bd71b94031}{semun\+::val}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}\label{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!isLocked@{isLocked}}
\index{isLocked@{isLocked}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{isLocked()}{isLocked()}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::is\+Locked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

\begin{DoxyReturn}{Returns}
true when this shared memory area is locked. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{14900                                                   \{}
\DoxyCodeLine{14901     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\_isLocked}}.load();}
\DoxyCodeLine{14902 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\+\_\+is\+Locked}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a37eec40b45c7c4301ffa602772178661}{get\+Time\+Stamp()}}.

Here is the caller graph for this function\+:
% FIG 6
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}\label{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!lock@{lock}}
\index{lock@{lock}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{lock()}{lock()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::lock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

This method locks the shared memory area. 
\begin{DoxyCode}{0}
\DoxyCodeLine{14904                                         \{}
\DoxyCodeLine{14905 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14906     lockWIN32();}
\DoxyCodeLine{14907 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14908     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14909         \mbox{\hyperlink{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}{lockPOSIX}}();}
\DoxyCodeLine{14910     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{14911         \mbox{\hyperlink{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}{lockSysV}}();}
\DoxyCodeLine{14912     \}}
\DoxyCodeLine{14913 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14914     \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\_isLocked}}.store(\textcolor{keyword}{true});}
\DoxyCodeLine{14915 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}{lock\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}{lock\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\+\_\+is\+Locked}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{wait\+POSIX()}}.

Here is the call graph for this function\+:
% FIG 7
Here is the caller graph for this function\+:
% FIG 8
\mbox{\Hypertarget{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}\label{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!lockPOSIX@{lockPOSIX}}
\index{lockPOSIX@{lockPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{lockPOSIX()}{lockPOSIX()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::lock\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15415                                              \{}
\DoxyCodeLine{15416 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15417     \textcolor{keywordflow}{if} (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}) \{}
\DoxyCodeLine{15418         \textcolor{keyword}{auto} \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}} = ::pthread\_mutex\_lock(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{\_\_mutex}}));}
\DoxyCodeLine{15419         \textcolor{keywordflow}{if} (EOWNERDEAD == \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}) \{}
\DoxyCodeLine{15420 \textcolor{comment}{// clang-\/format off // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15421             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (POSIX)] pthread\_mutex\_lock returned for EOWNERDEAD for mutex in shared memory '"{}} << \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}} << \textcolor{stringliteral}{"{}': "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15422 \textcolor{comment}{// clang-\/format on // LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15423         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (0 != \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}) \{}
\DoxyCodeLine{15424             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true}); \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15425         \}}
\DoxyCodeLine{15426     \}}
\DoxyCodeLine{15427 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15428 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+mutex}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}}, and \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{ret\+Val}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock()}}.

Here is the caller graph for this function\+:
% FIG 9
\mbox{\Hypertarget{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}\label{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!lockSysV@{lockSysV}}
\index{lockSysV@{lockSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{lockSysV()}{lockSysV()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::lock\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15753                                             \{}
\DoxyCodeLine{15754     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}) \{}
\DoxyCodeLine{15755         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15756         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} VALUE\{-\/1\};}
\DoxyCodeLine{15757 }
\DoxyCodeLine{15758         \textcolor{keyword}{struct }sembuf tmp;}
\DoxyCodeLine{15759         tmp.sem\_num = NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL;}
\DoxyCodeLine{15760         tmp.sem\_op = VALUE;}
\DoxyCodeLine{15761         tmp.sem\_flg = SEM\_UNDO; \textcolor{comment}{// When the caller terminates unexpectedly, let the kernel restore the original value.}}
\DoxyCodeLine{15762         \textcolor{keywordflow}{if} (-\/1 == ::semop(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}, \&tmp, 1)) \{}
\DoxyCodeLine{15763             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to lock semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno)}
\DoxyCodeLine{15764                       << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15765             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true});}
\DoxyCodeLine{15766         \}}
\DoxyCodeLine{15767     \}}
\DoxyCodeLine{15768 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\+\_\+mutex\+IDSysV}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\+\_\+mutex\+Key\+SysV}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock()}}.

Here is the caller graph for this function\+:
% FIG 10
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}\label{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!name@{name}}
\index{name@{name}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{name()}{name()}}
{\footnotesize\ttfamily const std\+::string cluon\+::\+Shared\+Memory\+::name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

\begin{DoxyReturn}{Returns}
Name the shared memory area. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{15041                                                          \{}
\DoxyCodeLine{15042     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\_name}};}
\DoxyCodeLine{15043 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}{m\+\_\+name}}.



Referenced by \mbox{\hyperlink{opencv-template_8cpp_af19ddca125f05a2090dd132045573ee4}{main()}}.

Here is the caller graph for this function\+:
% FIG 11
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a5718505eff4ac4c8f47305b68a8251a1}\label{classcluon_1_1SharedMemory_a5718505eff4ac4c8f47305b68a8251a1}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!notifyAll@{notifyAll}}
\index{notifyAll@{notifyAll}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{notifyAll()}{notifyAll()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::notify\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

This method notifies all threads waiting on the shared condition. 
\begin{DoxyCode}{0}
\DoxyCodeLine{14942                                              \{}
\DoxyCodeLine{14943 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14944     notifyAllWIN32();}
\DoxyCodeLine{14945 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14946     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14947         \mbox{\hyperlink{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}{notifyAllPOSIX}}();}
\DoxyCodeLine{14948     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{14949         \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notifyAllSysV}}();}
\DoxyCodeLine{14950     \}}
\DoxyCodeLine{14951 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14952 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}{notify\+All\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notify\+All\+Sys\+V()}}.

Here is the call graph for this function\+:
% FIG 12
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}\label{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!notifyAllPOSIX@{notifyAllPOSIX}}
\index{notifyAllPOSIX@{notifyAllPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{notifyAllPOSIX()}{notifyAllPOSIX()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::notify\+All\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15452                                                   \{}
\DoxyCodeLine{15453 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15454     \textcolor{keywordflow}{if} (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}) \{}
\DoxyCodeLine{15455         \textcolor{keywordflow}{if} (0 != ::pthread\_cond\_broadcast(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{\_\_condition}}))) \{}
\DoxyCodeLine{15456             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true}); \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15457         \}}
\DoxyCodeLine{15458     \}}
\DoxyCodeLine{15459 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15460 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+condition}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a5718505eff4ac4c8f47305b68a8251a1}{notify\+All()}}.

Here is the caller graph for this function\+:
% FIG 13
\mbox{\Hypertarget{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}\label{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!notifyAllSysV@{notifyAllSysV}}
\index{notifyAllSysV@{notifyAllSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{notifyAllSysV()}{notifyAllSysV()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::notify\+All\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15804                                                  \{}
\DoxyCodeLine{15805     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}) \{}
\DoxyCodeLine{15806         \{}
\DoxyCodeLine{15807             \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15808             \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} WAKEUP\_VALUE\{0\};}
\DoxyCodeLine{15809 }
\DoxyCodeLine{15810             \textcolor{keyword}{union }\mbox{\hyperlink{unionsemun}{semun}} tmp;}
\DoxyCodeLine{15811             tmp.\mbox{\hyperlink{unionsemun_ac6121ecb6d04a024e07e12bd71b94031}{val}} = WAKEUP\_VALUE;}
\DoxyCodeLine{15812 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{15813 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{15814 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wclass-\/varargs"{}}}
\DoxyCodeLine{15815 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15816             \textcolor{keywordflow}{if} (-\/1 == ::semctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}, NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL, SETVAL, tmp)) \{}
\DoxyCodeLine{15817                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to notify semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec}
\DoxyCodeLine{15818                           << \textcolor{stringliteral}{"{}, intended to use as condition variable): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15819                 \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true});}
\DoxyCodeLine{15820             \}}
\DoxyCodeLine{15821 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{15822         \}}
\DoxyCodeLine{15823         \{}
\DoxyCodeLine{15824             \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15825             \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} SLEEPING\_VALUE\{1\};}
\DoxyCodeLine{15826 }
\DoxyCodeLine{15827             \textcolor{keyword}{union }\mbox{\hyperlink{unionsemun}{semun}} tmp;}
\DoxyCodeLine{15828             tmp.\mbox{\hyperlink{unionsemun_ac6121ecb6d04a024e07e12bd71b94031}{val}} = SLEEPING\_VALUE;}
\DoxyCodeLine{15829 \textcolor{preprocessor}{\#pragma GCC diagnostic push}}
\DoxyCodeLine{15830 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{15831 \textcolor{preprocessor}{\#pragma GCC diagnostic ignored "{}-\/Wclass-\/varargs"{}}}
\DoxyCodeLine{15832 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15833             \textcolor{keywordflow}{if} (-\/1 == ::semctl(\mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}, NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL, SETVAL, tmp)) \{}
\DoxyCodeLine{15834                 std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to reset semaphore for notification (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec}
\DoxyCodeLine{15835                           << \textcolor{stringliteral}{"{}, intended to use as condition variable): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15836                 \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true});}
\DoxyCodeLine{15837             \}}
\DoxyCodeLine{15838 \textcolor{preprocessor}{\#pragma GCC diagnostic pop}}
\DoxyCodeLine{15839         \}}
\DoxyCodeLine{15840     \}}
\DoxyCodeLine{15841 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\+\_\+condition\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\+\_\+condition\+Key\+SysV}}, and \mbox{\hyperlink{unionsemun_ac6121ecb6d04a024e07e12bd71b94031}{semun\+::val}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a5718505eff4ac4c8f47305b68a8251a1}{notify\+All()}}.

Here is the caller graph for this function\+:
% FIG 14
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a48783898414a4db7420e0ba6be87d19e}\label{classcluon_1_1SharedMemory_a48783898414a4db7420e0ba6be87d19e}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!operator=@{operator=}}
\index{operator=@{operator=}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \& cluon\+::\+Shared\+Memory\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a818342fa644b590520d930eda1859407}\label{classcluon_1_1SharedMemory_a818342fa644b590520d930eda1859407}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!operator=@{operator=}}
\index{operator=@{operator=}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \& cluon\+::\+Shared\+Memory\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classcluon_1_1SharedMemory}{Shared\+Memory}} \&\&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a242387ce57180dd51ad9c4cd37e0a21f}\label{classcluon_1_1SharedMemory_a242387ce57180dd51ad9c4cd37e0a21f}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!setTimeStamp@{setTimeStamp}}
\index{setTimeStamp@{setTimeStamp}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{setTimeStamp()}{setTimeStamp()}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::set\+Time\+Stamp (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp}{cluon\+::data\+::\+Time\+Stamp}} \&}]{ts }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

This method sets the time stamp that can be used to express the sample time stamp of the data in residing in the shared memory.

This method is only allowed when the shared memory is locked.


\begin{DoxyParams}{Parameters}
{\em ts} & Time\+Stamp. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the timestamp could set; false if the shared memory was not locked. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{14954                                                                             \{}
\DoxyCodeLine{14955     \textcolor{keywordtype}{bool} \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{14956 }
\DoxyCodeLine{14957 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14958     (void)ts;}
\DoxyCodeLine{14959 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14960     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}} = \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}{isLocked}}())) \{}
\DoxyCodeLine{14961 \textcolor{preprocessor}{\#ifdef \_\_APPLE\_\_}}
\DoxyCodeLine{14962         \textcolor{keyword}{struct }timeval accessedTime;}
\DoxyCodeLine{14963         accessedTime.tv\_sec = 0;}
\DoxyCodeLine{14964         accessedTime.tv\_usec = 0;}
\DoxyCodeLine{14965 }
\DoxyCodeLine{14966         \textcolor{keyword}{struct }timeval modifiedTime;}
\DoxyCodeLine{14967         modifiedTime.tv\_sec = ts.\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_ac8c0f1d9f06177d7dd8568261fe14dac}{seconds}}();}
\DoxyCodeLine{14968         modifiedTime.tv\_usec = ts.\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_a6330ea6b06cdce2b2a30098f3ec87a9a}{microseconds}}();}
\DoxyCodeLine{14969 }
\DoxyCodeLine{14970         \textcolor{keyword}{struct }timeval times[2]\{accessedTime, modifiedTime\};}
\DoxyCodeLine{14971         \textcolor{keywordflow}{if} (0 != futimes(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}}, times)) \{}
\DoxyCodeLine{14972             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory] Failed to set time stamp: '"{}} << strerror(errno) << \textcolor{stringliteral}{"{}' ("{}} << errno << \textcolor{stringliteral}{"{}): "{}} << std::endl;}
\DoxyCodeLine{14973             \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}} = \textcolor{keyword}{false};}
\DoxyCodeLine{14974         \}}
\DoxyCodeLine{14975 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14976         \textcolor{keyword}{struct }timespec accessedTime;}
\DoxyCodeLine{14977         accessedTime.tv\_sec = 0;}
\DoxyCodeLine{14978         accessedTime.tv\_nsec = UTIME\_OMIT;}
\DoxyCodeLine{14979 }
\DoxyCodeLine{14980         \textcolor{keyword}{struct }timespec modifiedTime;}
\DoxyCodeLine{14981         modifiedTime.tv\_sec = ts.\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_ac8c0f1d9f06177d7dd8568261fe14dac}{seconds}}();}
\DoxyCodeLine{14982         modifiedTime.tv\_nsec = ts.\mbox{\hyperlink{classcluon_1_1data_1_1TimeStamp_a6330ea6b06cdce2b2a30098f3ec87a9a}{microseconds}}()*1000;}
\DoxyCodeLine{14983 }
\DoxyCodeLine{14984         \textcolor{keyword}{struct }timespec times[2]\{accessedTime, modifiedTime\};}
\DoxyCodeLine{14985         \textcolor{keywordflow}{if} (0 != futimens(\mbox{\hyperlink{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}{m\_fdForTimeStamping}}, times)) \{}
\DoxyCodeLine{14986             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory] Failed to set time stamp: '"{}} << strerror(errno) << \textcolor{stringliteral}{"{}' ("{}} << errno << \textcolor{stringliteral}{"{}): "{}} << std::endl; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{14987             \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}} = \textcolor{keyword}{false}; \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{14988         \}}
\DoxyCodeLine{14989 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14990     \}}
\DoxyCodeLine{14991 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14992 }
\DoxyCodeLine{14993     \textcolor{keywordflow}{return} \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{retVal}};}
\DoxyCodeLine{14994 \}}

\end{DoxyCode}


References \mbox{\hyperlink{cluon-complete_8hpp_ad4b02d239c8387bc0498b8a690ef5a16}{ret\+Val}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a3abd31631f8b51f791da66615671ff1b}\label{classcluon_1_1SharedMemory_a3abd31631f8b51f791da66615671ff1b}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!size@{size}}
\index{size@{size}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{size()}{size()}}
{\footnotesize\ttfamily uint32\+\_\+t cluon\+::\+Shared\+Memory\+::size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

\begin{DoxyReturn}{Returns}
The size of the shared memory area. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{15037                                                   \{}
\DoxyCodeLine{15038     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}};}
\DoxyCodeLine{15039 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}\label{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!unlock@{unlock}}
\index{unlock@{unlock}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{unlock()}{unlock()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::unlock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

This method unlocks the shared memory area. 
\begin{DoxyCode}{0}
\DoxyCodeLine{14917                                           \{}
\DoxyCodeLine{14918 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14919     unlockWIN32();}
\DoxyCodeLine{14920 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14921     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14922         \mbox{\hyperlink{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}{unlockPOSIX}}();}
\DoxyCodeLine{14923     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{14924         \mbox{\hyperlink{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}{unlockSysV}}();}
\DoxyCodeLine{14925     \}}
\DoxyCodeLine{14926 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14927     \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\_isLocked}}.store(\textcolor{keyword}{false});}
\DoxyCodeLine{14928 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}{m\+\_\+is\+Locked}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}{unlock\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}{unlock\+Sys\+V()}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{wait\+POSIX()}}.

Here is the call graph for this function\+:
% FIG 15
Here is the caller graph for this function\+:
% FIG 16
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}\label{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!unlockPOSIX@{unlockPOSIX}}
\index{unlockPOSIX@{unlockPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{unlockPOSIX()}{unlockPOSIX()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::unlock\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15430                                                \{}
\DoxyCodeLine{15431 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15432     \textcolor{keywordflow}{if} (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}) \{}
\DoxyCodeLine{15433         \textcolor{keywordflow}{if} (0 != ::pthread\_mutex\_unlock(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{\_\_mutex}}))) \{}
\DoxyCodeLine{15434             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true}); \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15435         \}}
\DoxyCodeLine{15436     \}}
\DoxyCodeLine{15437 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15438 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+mutex}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock()}}.

Here is the caller graph for this function\+:
% FIG 17
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}\label{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!unlockSysV@{unlockSysV}}
\index{unlockSysV@{unlockSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{unlockSysV()}{unlockSysV()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::unlock\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15770                                               \{}
\DoxyCodeLine{15771     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}) \{}
\DoxyCodeLine{15772         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15773         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} VALUE\{+1\};}
\DoxyCodeLine{15774 }
\DoxyCodeLine{15775         \textcolor{keyword}{struct }sembuf tmp;}
\DoxyCodeLine{15776         tmp.sem\_num = NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL;}
\DoxyCodeLine{15777         tmp.sem\_op = VALUE;}
\DoxyCodeLine{15778         tmp.sem\_flg = SEM\_UNDO; \textcolor{comment}{// When the caller terminates unexpectedly, let the kernel restore the original value.}}
\DoxyCodeLine{15779         \textcolor{keywordflow}{if} (-\/1 == ::semop(\mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}, \&tmp, 1)) \{}
\DoxyCodeLine{15780             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to unlock semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\_mutexKeySysV}} << std::dec << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno)}
\DoxyCodeLine{15781                       << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15782             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true});}
\DoxyCodeLine{15783         \}}
\DoxyCodeLine{15784     \}}
\DoxyCodeLine{15785 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\+\_\+mutex\+IDSysV}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}{m\+\_\+mutex\+Key\+SysV}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock()}}.

Here is the caller graph for this function\+:
% FIG 18
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}\label{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!valid@{valid}}
\index{valid@{valid}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{valid()}{valid()}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

\begin{DoxyReturn}{Returns}
True if the shared memory area is existing and usable. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{15019                                          \{}
\DoxyCodeLine{15020     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}}\{!\mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.load()\};}
\DoxyCodeLine{15021     \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}} \&= (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}});}
\DoxyCodeLine{15022     \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}} \&= (0 < \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}});}
\DoxyCodeLine{15023 \textcolor{preprocessor}{\#ifndef WIN32}}
\DoxyCodeLine{15024     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{15025         \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}} \&= \mbox{\hyperlink{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}{validPOSIX}}();}
\DoxyCodeLine{15026     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{15027         \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}} \&= \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{validSysV}}();}
\DoxyCodeLine{15028     \}}
\DoxyCodeLine{15029 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15030     \textcolor{keywordflow}{return} \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid}};}
\DoxyCodeLine{15031 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}{valid\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+Sys\+V()}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}.

Here is the call graph for this function\+:
% FIG 19
Here is the caller graph for this function\+:
% FIG 20
\mbox{\Hypertarget{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}\label{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!validPOSIX@{validPOSIX}}
\index{validPOSIX@{validPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{validPOSIX()}{validPOSIX()}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::valid\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15462                                               \{}
\DoxyCodeLine{15463 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15464     \textcolor{keywordflow}{return} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\_fd}}) \&\& (MAP\_FAILED != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}});}
\DoxyCodeLine{15465 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{15466     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{15467 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15468 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}{m\+\_\+fd}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}.

Here is the caller graph for this function\+:
% FIG 21
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}\label{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!validSysV@{validSysV}}
\index{validSysV@{validSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{validSysV()}{validSysV()}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::valid\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15843                                              \{}
\DoxyCodeLine{15844     \textcolor{keywordflow}{return} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\_sharedMemoryIDSysV}}) \&\& (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\_sharedMemory}}) \&\& (0 < \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\_size}}) \&\& (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\_mutexIDSysV}}) \&\& (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}});}
\DoxyCodeLine{15845 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\+\_\+condition\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}{m\+\_\+mutex\+IDSysV}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}{m\+\_\+shared\+Memory}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}{m\+\_\+shared\+Memory\+IDSysV}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}{m\+\_\+size}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}.

Here is the caller graph for this function\+:
% FIG 22
\mbox{\Hypertarget{classcluon_1_1SharedMemory_ad7f048d68730ccd182ad8a436949fa09}\label{classcluon_1_1SharedMemory_ad7f048d68730ccd182ad8a436949fa09}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!wait@{wait}}
\index{wait@{wait}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{wait()}{wait()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::wait (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

This method waits for being notified from the shared condition. 
\begin{DoxyCode}{0}
\DoxyCodeLine{14930                                         \{}
\DoxyCodeLine{14931 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{14932     waitWIN32();}
\DoxyCodeLine{14933 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{14934     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\_usePOSIX}}) \{}
\DoxyCodeLine{14935         \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{waitPOSIX}}();}
\DoxyCodeLine{14936     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{14937         \mbox{\hyperlink{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}{waitSysV}}();}
\DoxyCodeLine{14938     \}}
\DoxyCodeLine{14939 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{14940 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}{m\+\_\+use\+POSIX}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{wait\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}{wait\+Sys\+V()}}.

Here is the call graph for this function\+:
% FIG 23
\mbox{\Hypertarget{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}\label{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!waitPOSIX@{waitPOSIX}}
\index{waitPOSIX@{waitPOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{waitPOSIX()}{waitPOSIX()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::wait\+POSIX (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15440                                              \{}
\DoxyCodeLine{15441 \textcolor{preprocessor}{\#if !defined(\_\_NetBSD\_\_) \&\& !defined(\_\_OpenBSD\_\_)}}
\DoxyCodeLine{15442     \textcolor{keywordflow}{if} (\textcolor{keyword}{nullptr} != \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}) \{}
\DoxyCodeLine{15443         \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock}}();}
\DoxyCodeLine{15444         \textcolor{keywordflow}{if} (0 != ::pthread\_cond\_wait(\&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{\_\_condition}}), \&(\mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\_sharedMemoryHeader}}-\/>\mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{\_\_mutex}}))) \{}
\DoxyCodeLine{15445             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true}); \textcolor{comment}{// LCOV\_EXCL\_LINE}}
\DoxyCodeLine{15446         \}}
\DoxyCodeLine{15447         \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock}}();}
\DoxyCodeLine{15448     \}}
\DoxyCodeLine{15449 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{15450 \}}

\end{DoxyCode}


References \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_a7744651f1fc38f401a87861452cf0342}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+condition}}, \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader_adb9395e325a39988de4bf75644b86236}{cluon\+::\+Shared\+Memory\+::\+Shared\+Memory\+Header\+::\+\_\+\+\_\+mutex}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}{m\+\_\+shared\+Memory\+Header}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock()}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_ad7f048d68730ccd182ad8a436949fa09}{wait()}}.

Here is the call graph for this function\+:
% FIG 24
Here is the caller graph for this function\+:
% FIG 25
\mbox{\Hypertarget{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}\label{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!waitSysV@{waitSysV}}
\index{waitSysV@{waitSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{waitSysV()}{waitSysV()}}
{\footnotesize\ttfamily void cluon\+::\+Shared\+Memory\+::wait\+SysV (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}, {\ttfamily [noexcept]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{15787                                             \{}
\DoxyCodeLine{15788     \textcolor{keywordflow}{if} (-\/1 != \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}) \{}
\DoxyCodeLine{15789         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL\{0\};}
\DoxyCodeLine{15790         \textcolor{keyword}{constexpr} \textcolor{keywordtype}{int} VALUE\{0\}; \textcolor{comment}{// Wait for this semaphore to become 0.}}
\DoxyCodeLine{15791 }
\DoxyCodeLine{15792         \textcolor{keyword}{struct }sembuf tmp;}
\DoxyCodeLine{15793         tmp.sem\_num = NUMBER\_OF\_SEMAPHORE\_TO\_CONTROL;}
\DoxyCodeLine{15794         tmp.sem\_op = VALUE;}
\DoxyCodeLine{15795         tmp.sem\_flg = 0;}
\DoxyCodeLine{15796         \textcolor{keywordflow}{if} (-\/1 == ::semop(\mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\_conditionIDSysV}}, \&tmp, 1)) \{}
\DoxyCodeLine{15797             std::cerr << \textcolor{stringliteral}{"{}[cluon::SharedMemory (SysV)] Failed to wait on semaphore (0x"{}} << std::hex << \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\_conditionKeySysV}} << std::dec}
\DoxyCodeLine{15798                       << \textcolor{stringliteral}{"{}): "{}} << ::strerror(errno) << \textcolor{stringliteral}{"{} ("{}} << errno << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{15799             \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\_broken}}.store(\textcolor{keyword}{true});}
\DoxyCodeLine{15800         \}}
\DoxyCodeLine{15801     \}}
\DoxyCodeLine{15802 \}}

\end{DoxyCode}


References \mbox{\hyperlink{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}{m\+\_\+broken}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}{m\+\_\+condition\+IDSysV}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}{m\+\_\+condition\+Key\+SysV}}.



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_ad7f048d68730ccd182ad8a436949fa09}{wait()}}.

Here is the caller graph for this function\+:
% FIG 26


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}\label{classcluon_1_1SharedMemory_ae7eb995565f32600d5a56cbcf0cdc061}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_broken@{m\_broken}}
\index{m\_broken@{m\_broken}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_broken}{m\_broken}}
{\footnotesize\ttfamily std\+::atomic$<$bool$>$ cluon\+::\+Shared\+Memory\+::m\+\_\+broken \{false\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}{lock\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}{lock\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}{notify\+All\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notify\+All\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}{unlock\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}{unlock\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{wait\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}{wait\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}\label{classcluon_1_1SharedMemory_a17226d52d5158e6995997c6fca81e792}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_conditionIDSysV@{m\_conditionIDSysV}}
\index{m\_conditionIDSysV@{m\_conditionIDSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_conditionIDSysV}{m\_conditionIDSysV}}
{\footnotesize\ttfamily int cluon\+::\+Shared\+Memory\+::m\+\_\+condition\+IDSysV \{-\/1\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notify\+All\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}{wait\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}\label{classcluon_1_1SharedMemory_a2aeb4cc365c8c0df7f26fbd127c415c9}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_conditionKeySysV@{m\_conditionKeySysV}}
\index{m\_conditionKeySysV@{m\_conditionKeySysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_conditionKeySysV}{m\_conditionKeySysV}}
{\footnotesize\ttfamily key\+\_\+t cluon\+::\+Shared\+Memory\+::m\+\_\+condition\+Key\+SysV \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_afcd71cf330e70ad2bb7f424d2e3f51eb}{notify\+All\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_ae51a0e2ffa9a6fea69bce92e62ada2a6}{wait\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}\label{classcluon_1_1SharedMemory_a3332579cba603e7c68c17e7509b5204c}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_fd@{m\_fd}}
\index{m\_fd@{m\_fd}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_fd}{m\_fd}}
{\footnotesize\ttfamily int32\+\_\+t cluon\+::\+Shared\+Memory\+::m\+\_\+fd \{-\/1\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}{valid\+POSIX()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}\label{classcluon_1_1SharedMemory_a3215e0bad1ae491bfefe945ca61b3a64}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_fdForTimeStamping@{m\_fdForTimeStamping}}
\index{m\_fdForTimeStamping@{m\_fdForTimeStamping}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_fdForTimeStamping}{m\_fdForTimeStamping}}
{\footnotesize\ttfamily int32\+\_\+t cluon\+::\+Shared\+Memory\+::m\+\_\+fd\+For\+Time\+Stamping \{-\/1\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a37eec40b45c7c4301ffa602772178661}{get\+Time\+Stamp()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}\label{classcluon_1_1SharedMemory_a800633478ce923a18a552fdb2ee82b32}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_hasOnlyAttachedToSharedMemory@{m\_hasOnlyAttachedToSharedMemory}}
\index{m\_hasOnlyAttachedToSharedMemory@{m\_hasOnlyAttachedToSharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_hasOnlyAttachedToSharedMemory}{m\_hasOnlyAttachedToSharedMemory}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::m\+\_\+has\+Only\+Attached\+To\+Shared\+Memory \{false\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}\label{classcluon_1_1SharedMemory_ae72f48065abf715c9263a597bae86093}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_isLocked@{m\_isLocked}}
\index{m\_isLocked@{m\_isLocked}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_isLocked}{m\_isLocked}}
{\footnotesize\ttfamily std\+::atomic$<$bool$>$ cluon\+::\+Shared\+Memory\+::m\+\_\+is\+Locked \{false\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa314f5d2a295f353f4e0395ec8b8dc5}{is\+Locked()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}\label{classcluon_1_1SharedMemory_a2d6ca3d5264d78b4b86fe2c7e5494bd0}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_mutexIDSysV@{m\_mutexIDSysV}}
\index{m\_mutexIDSysV@{m\_mutexIDSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_mutexIDSysV}{m\_mutexIDSysV}}
{\footnotesize\ttfamily int cluon\+::\+Shared\+Memory\+::m\+\_\+mutex\+IDSysV \{-\/1\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}{lock\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}{unlock\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}\label{classcluon_1_1SharedMemory_afc7e872e13d54e4275c5c63553814120}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_mutexKeySysV@{m\_mutexKeySysV}}
\index{m\_mutexKeySysV@{m\_mutexKeySysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_mutexKeySysV}{m\_mutexKeySysV}}
{\footnotesize\ttfamily key\+\_\+t cluon\+::\+Shared\+Memory\+::m\+\_\+mutex\+Key\+SysV \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab8cf2bc80cec392829bf1b291796b0b2}{lock\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a39c6f535237ee2b956af2048940b020f}{unlock\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}\label{classcluon_1_1SharedMemory_a1bd71f70420d2fa3f6f4195ae46e4624}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_name@{m\_name}}
\index{m\_name@{m\_name}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_name}{m\_name}}
{\footnotesize\ttfamily std\+::string cluon\+::\+Shared\+Memory\+::m\+\_\+name \{\char`\"{}\char`\"{}\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}{lock\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a5a8aaf2d017e3b92c66266a37915be66}{name()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}\label{classcluon_1_1SharedMemory_a2ea20e54ead449eae7044d764a490197}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_nameForTimeStamping@{m\_nameForTimeStamping}}
\index{m\_nameForTimeStamping@{m\_nameForTimeStamping}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_nameForTimeStamping}{m\_nameForTimeStamping}}
{\footnotesize\ttfamily std\+::string cluon\+::\+Shared\+Memory\+::m\+\_\+name\+For\+Time\+Stamping \{\char`\"{}\char`\"{}\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}\label{classcluon_1_1SharedMemory_ab9826c639b0d1b4759c956611ffca503}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_sharedMemory@{m\_sharedMemory}}
\index{m\_sharedMemory@{m\_sharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_sharedMemory}{m\_sharedMemory}}
{\footnotesize\ttfamily char$\ast$ cluon\+::\+Shared\+Memory\+::m\+\_\+shared\+Memory \{nullptr\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ab2e6566c1ffaa1ad0dc1c8f9f0bdae21}{valid\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}\label{classcluon_1_1SharedMemory_a26a598c15d21f12812780178cff0517a}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_sharedMemoryHeader@{m\_sharedMemoryHeader}}
\index{m\_sharedMemoryHeader@{m\_sharedMemoryHeader}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_sharedMemoryHeader}{m\_sharedMemoryHeader}}
{\footnotesize\ttfamily \mbox{\hyperlink{structcluon_1_1SharedMemory_1_1SharedMemoryHeader}{Shared\+Memory\+Header}}$\ast$ cluon\+::\+Shared\+Memory\+::m\+\_\+shared\+Memory\+Header \{nullptr\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aa892756d72243b253e838bd342224174}{lock\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a11ae73a4fe0bc8d6d04f7e5e076c88e2}{notify\+All\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a635c0d044c9fca9ceb56a620190390d1}{unlock\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a8e5d136bd17addac3954830062ed869b}{wait\+POSIX()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}\label{classcluon_1_1SharedMemory_ac475715e2d5510cc0fb30f807a6b6a7e}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_sharedMemoryIDSysV@{m\_sharedMemoryIDSysV}}
\index{m\_sharedMemoryIDSysV@{m\_sharedMemoryIDSysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_sharedMemoryIDSysV}{m\_sharedMemoryIDSysV}}
{\footnotesize\ttfamily int cluon\+::\+Shared\+Memory\+::m\+\_\+shared\+Memory\+IDSysV \{-\/1\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}\label{classcluon_1_1SharedMemory_a8f77ae1cd17da83b62b62e4efb62172a}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_shmKeySysV@{m\_shmKeySysV}}
\index{m\_shmKeySysV@{m\_shmKeySysV}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_shmKeySysV}{m\_shmKeySysV}}
{\footnotesize\ttfamily key\+\_\+t cluon\+::\+Shared\+Memory\+::m\+\_\+shm\+Key\+SysV \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_aaa76fa0e09e1052e1dbb7fc521bc479d}{deinit\+Sys\+V()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}\label{classcluon_1_1SharedMemory_a5ba5052588a9b7253c054bb4f59aecaf}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_size@{m\_size}}
\index{m\_size@{m\_size}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_size}{m\_size}}
{\footnotesize\ttfamily uint32\+\_\+t cluon\+::\+Shared\+Memory\+::m\+\_\+size \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_af66766b19a3e51666e142750a98bc3b8}{deinit\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a3abd31631f8b51f791da66615671ff1b}{size()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a1eb840a1bbf8f52da891400504f281cb}{valid\+Sys\+V()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}\label{classcluon_1_1SharedMemory_acf98405016a1e65a7f74027a32033ba4}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_usePOSIX@{m\_usePOSIX}}
\index{m\_usePOSIX@{m\_usePOSIX}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_usePOSIX}{m\_usePOSIX}}
{\footnotesize\ttfamily bool cluon\+::\+Shared\+Memory\+::m\+\_\+use\+POSIX \{true\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_a8fa52d4fc6d7e15c15c9fae901baf954}{lock()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a5718505eff4ac4c8f47305b68a8251a1}{notify\+All()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_aed5f830386d9270f48c34d62abfc7f32}{unlock()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a4f0f7d384ccc838fe7886bc36978ecfa}{valid()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_ad7f048d68730ccd182ad8a436949fa09}{wait()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_abece6ca0b0c8cd19d058aa3d2343e4e3}{$\sim$\+Shared\+Memory()}}.

\mbox{\Hypertarget{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}\label{classcluon_1_1SharedMemory_a06abeaede452dd5cfaa39d0cb83d7ad4}} 
\index{cluon::SharedMemory@{cluon::SharedMemory}!m\_userAccessibleSharedMemory@{m\_userAccessibleSharedMemory}}
\index{m\_userAccessibleSharedMemory@{m\_userAccessibleSharedMemory}!cluon::SharedMemory@{cluon::SharedMemory}}
\doxysubsubsection{\texorpdfstring{m\_userAccessibleSharedMemory}{m\_userAccessibleSharedMemory}}
{\footnotesize\ttfamily char$\ast$ cluon\+::\+Shared\+Memory\+::m\+\_\+user\+Accessible\+Shared\+Memory \{nullptr\}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by \mbox{\hyperlink{classcluon_1_1SharedMemory_ad05caf30d9dd7444f7bef1319b31d622}{data()}}, \mbox{\hyperlink{classcluon_1_1SharedMemory_a7bb84bfeba277061c82fbc05db764d81}{init\+POSIX()}}, and \mbox{\hyperlink{classcluon_1_1SharedMemory_a06d3d6e0b5b66e6291e567500c9cbc51}{init\+Sys\+V()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{cluon-complete_8hpp}{cluon-\/complete.\+hpp}}\end{DoxyCompactItemize}
