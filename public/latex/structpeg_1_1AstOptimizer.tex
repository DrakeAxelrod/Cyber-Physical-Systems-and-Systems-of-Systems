\hypertarget{structpeg_1_1AstOptimizer}{}\doxysection{peg\+::Ast\+Optimizer Struct Reference}
\label{structpeg_1_1AstOptimizer}\index{peg::AstOptimizer@{peg::AstOptimizer}}


{\ttfamily \#include $<$cluon-\/complete.\+hpp$>$}



Collaboration diagram for peg\+::Ast\+Optimizer\+:
% FIG 0
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structpeg_1_1AstOptimizer_ae74621e4b7d1f65f03e7f578154babbb}{Ast\+Optimizer}} (bool optimize\+\_\+nodes, const std\+::vector$<$ std\+::string $>$ \&filters=\{\})
\item 
{\footnotesize template$<$typename T $>$ }\\std\+::shared\+\_\+ptr$<$ T $>$ \mbox{\hyperlink{structpeg_1_1AstOptimizer_ab08f7e97a7820e086021dbd8c3bb5580}{optimize}} (std\+::shared\+\_\+ptr$<$ T $>$ original, std\+::shared\+\_\+ptr$<$ T $>$ parent=nullptr)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const bool \mbox{\hyperlink{structpeg_1_1AstOptimizer_aa47c56f6f50da3ee95877c0582b0748c}{optimize\+\_\+nodes\+\_\+}}
\item 
const std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}{filters\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{structpeg_1_1AstOptimizer_ae74621e4b7d1f65f03e7f578154babbb}\label{structpeg_1_1AstOptimizer_ae74621e4b7d1f65f03e7f578154babbb}} 
\index{peg::AstOptimizer@{peg::AstOptimizer}!AstOptimizer@{AstOptimizer}}
\index{AstOptimizer@{AstOptimizer}!peg::AstOptimizer@{peg::AstOptimizer}}
\doxysubsubsection{\texorpdfstring{AstOptimizer()}{AstOptimizer()}}
{\footnotesize\ttfamily peg\+::\+Ast\+Optimizer\+::\+Ast\+Optimizer (\begin{DoxyParamCaption}\item[{bool}]{optimize\+\_\+nodes,  }\item[{const std\+::vector$<$ std\+::string $>$ \&}]{filters = {\ttfamily \{\}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{3604                                                                             \{\})}
\DoxyCodeLine{3605         : \mbox{\hyperlink{structpeg_1_1AstOptimizer_aa47c56f6f50da3ee95877c0582b0748c}{optimize\_nodes\_}}(optimize\_nodes)}
\DoxyCodeLine{3606         , \mbox{\hyperlink{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}{filters\_}}(filters) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structpeg_1_1AstOptimizer_ab08f7e97a7820e086021dbd8c3bb5580}\label{structpeg_1_1AstOptimizer_ab08f7e97a7820e086021dbd8c3bb5580}} 
\index{peg::AstOptimizer@{peg::AstOptimizer}!optimize@{optimize}}
\index{optimize@{optimize}!peg::AstOptimizer@{peg::AstOptimizer}}
\doxysubsubsection{\texorpdfstring{optimize()}{optimize()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
std\+::shared\+\_\+ptr$<$ T $>$ peg\+::\+Ast\+Optimizer\+::optimize (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ T $>$}]{original,  }\item[{std\+::shared\+\_\+ptr$<$ T $>$}]{parent = {\ttfamily nullptr} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{3609                                                                                             \{}
\DoxyCodeLine{3610 }
\DoxyCodeLine{3611         \textcolor{keyword}{auto} found = std::find(\mbox{\hyperlink{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}{filters\_}}.begin(), \mbox{\hyperlink{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}{filters\_}}.end(), original-\/>name) != \mbox{\hyperlink{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}{filters\_}}.end();}
\DoxyCodeLine{3612         \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacepeg_a864655bd71746d397f495ba0f791ef8b}{opt}} = \mbox{\hyperlink{structpeg_1_1AstOptimizer_aa47c56f6f50da3ee95877c0582b0748c}{optimize\_nodes\_}} ? !found : found;}
\DoxyCodeLine{3613 }
\DoxyCodeLine{3614         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacepeg_a864655bd71746d397f495ba0f791ef8b}{opt}} \&\& original-\/>nodes.size() == 1) \{}
\DoxyCodeLine{3615             \textcolor{keyword}{auto} child = \mbox{\hyperlink{structpeg_1_1AstOptimizer_ab08f7e97a7820e086021dbd8c3bb5580}{optimize}}(original-\/>nodes[0], parent);}
\DoxyCodeLine{3616             \textcolor{keywordflow}{return} std::make\_shared<T>(}
\DoxyCodeLine{3617                 *child, original-\/>name.c\_str(), original-\/>choice\_count,}
\DoxyCodeLine{3618                 original-\/>position, original-\/>length, original-\/>choice);}
\DoxyCodeLine{3619         \}}
\DoxyCodeLine{3620 }
\DoxyCodeLine{3621         \textcolor{keyword}{auto} \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}} = std::make\_shared<T>(*original);}
\DoxyCodeLine{3622         \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}}-\/>parent = parent;}
\DoxyCodeLine{3623         \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}}-\/>nodes.clear();}
\DoxyCodeLine{3624         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} node : original-\/>nodes) \{}
\DoxyCodeLine{3625             \textcolor{keyword}{auto} child = \mbox{\hyperlink{structpeg_1_1AstOptimizer_ab08f7e97a7820e086021dbd8c3bb5580}{optimize}}(node, \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}});}
\DoxyCodeLine{3626             \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}}-\/>nodes.push\_back(child);}
\DoxyCodeLine{3627         \}}
\DoxyCodeLine{3628         \textcolor{keywordflow}{return} \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}};}
\DoxyCodeLine{3629     \}}

\end{DoxyCode}


References \mbox{\hyperlink{cluon-complete_8hpp_a92e4261a46b1f5265ae122a3e8643667}{ast}}, and \mbox{\hyperlink{namespacepeg_a864655bd71746d397f495ba0f791ef8b}{peg\+::opt()}}.



Referenced by \mbox{\hyperlink{cluon-complete_8hpp_ab73f32d36cdefe0d26a217ecb3fd46b2}{if()}}.

Here is the call graph for this function\+:
% FIG 1
Here is the caller graph for this function\+:
% FIG 2


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}\label{structpeg_1_1AstOptimizer_aeeac08ef847847f575f6d432699e9d43}} 
\index{peg::AstOptimizer@{peg::AstOptimizer}!filters\_@{filters\_}}
\index{filters\_@{filters\_}!peg::AstOptimizer@{peg::AstOptimizer}}
\doxysubsubsection{\texorpdfstring{filters\_}{filters\_}}
{\footnotesize\ttfamily const std\+::vector$<$std\+::string$>$ peg\+::\+Ast\+Optimizer\+::filters\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{structpeg_1_1AstOptimizer_aa47c56f6f50da3ee95877c0582b0748c}\label{structpeg_1_1AstOptimizer_aa47c56f6f50da3ee95877c0582b0748c}} 
\index{peg::AstOptimizer@{peg::AstOptimizer}!optimize\_nodes\_@{optimize\_nodes\_}}
\index{optimize\_nodes\_@{optimize\_nodes\_}!peg::AstOptimizer@{peg::AstOptimizer}}
\doxysubsubsection{\texorpdfstring{optimize\_nodes\_}{optimize\_nodes\_}}
{\footnotesize\ttfamily const bool peg\+::\+Ast\+Optimizer\+::optimize\+\_\+nodes\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{cluon-complete_8hpp}{cluon-\/complete.\+hpp}}\end{DoxyCompactItemize}
