<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cyphy: cluon::EnvelopeConverter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cyphy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecluon.html">cluon</a></li><li class="navelem"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcluon_1_1EnvelopeConverter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cluon::EnvelopeConverter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="cluon-complete_8hpp_source.html">cluon-complete.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for cluon::EnvelopeConverter:</div>
<div class="dyncontent">
<div class="center"><img src="classcluon_1_1EnvelopeConverter__coll__graph.png" border="0" usemap="#acluon_1_1EnvelopeConverter_coll__map" alt="Collaboration graph"/></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5e8ece063bd077c98698288eb4d49b65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a5e8ece063bd077c98698288eb4d49b65">EnvelopeConverter</a> ()=default</td></tr>
<tr class="separator:a5e8ece063bd077c98698288eb4d49b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4879d33814e727df61273fdd4ed973b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#af4879d33814e727df61273fdd4ed973b">setMessageSpecification</a> (const std::string &amp;ms) noexcept</td></tr>
<tr class="separator:af4879d33814e727df61273fdd4ed973b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3484e4e1336792ffb51d870e0f8028"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#adb3484e4e1336792ffb51d870e0f8028">getJSONFromProtoEncodedEnvelope</a> (const std::string &amp;protoEncodedEnvelope) noexcept</td></tr>
<tr class="separator:adb3484e4e1336792ffb51d870e0f8028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7438e6f54c7d4034688634a19ece83"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a8d7438e6f54c7d4034688634a19ece83">getJSONFromEnvelope</a> (<a class="el" href="classcluon_1_1data_1_1Envelope.html">cluon::data::Envelope</a> &amp;envelope) noexcept</td></tr>
<tr class="separator:a8d7438e6f54c7d4034688634a19ece83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab102d020ec1701c9e6b545f05f4dc6c8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#ab102d020ec1701c9e6b545f05f4dc6c8">getProtoEncodedEnvelopeFromJSONWithoutTimeStamps</a> (const std::string &amp;json, int32_t messageIdentifier, uint32_t senderStamp) noexcept</td></tr>
<tr class="separator:ab102d020ec1701c9e6b545f05f4dc6c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8416ac700d2c3c656260e2ea4b002397"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a8416ac700d2c3c656260e2ea4b002397">getProtoEncodedEnvelopeFromJSON</a> (const std::string &amp;json, int32_t messageIdentifier, uint32_t senderStamp) noexcept</td></tr>
<tr class="separator:a8416ac700d2c3c656260e2ea4b002397"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a05d9f4da0a47cbfb0d4d203800b070c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a05d9f4da0a47cbfb0d4d203800b070c7">EnvelopeConverter</a> (const <a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;)=delete</td></tr>
<tr class="separator:a05d9f4da0a47cbfb0d4d203800b070c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d823d0838c840b6f07ec108e044d0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a77d823d0838c840b6f07ec108e044d0b">EnvelopeConverter</a> (<a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a77d823d0838c840b6f07ec108e044d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7614f0f507b9407874d4fecd316006c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#af7614f0f507b9407874d4fecd316006c">operator=</a> (const <a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;)=delete</td></tr>
<tr class="separator:af7614f0f507b9407874d4fecd316006c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232227fe86e65d155f0ef12461224ba4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a232227fe86e65d155f0ef12461224ba4">operator=</a> (<a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a232227fe86e65d155f0ef12461224ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac046a7e7de1fec61f44ca2ece7df11bc"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#ac046a7e7de1fec61f44ca2ece7df11bc">getProtoEncodedEnvelopeFromJSON</a> (const std::string &amp;json, int32_t messageIdentifier, uint32_t senderStamp, <a class="el" href="classcluon_1_1data_1_1TimeStamp.html">cluon::data::TimeStamp</a> sampleTimeStamp) noexcept</td></tr>
<tr class="separator:ac046a7e7de1fec61f44ca2ece7df11bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7b613993f8398e4d978d8400fdd6dd98"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a> {}</td></tr>
<tr class="separator:a7b613993f8398e4d978d8400fdd6dd98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bbbe4d409c8ed29627a6f12a8abe9ac"><td class="memItemLeft" align="right" valign="top">std::map&lt; int32_t, <a class="el" href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a> {}</td></tr>
<tr class="separator:a6bbbe4d409c8ed29627a6f12a8abe9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class provides various conversion functions to and from Envelope data structures. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a05d9f4da0a47cbfb0d4d203800b070c7" name="a05d9f4da0a47cbfb0d4d203800b070c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d9f4da0a47cbfb0d4d203800b070c7">&#9670;&nbsp;</a></span>EnvelopeConverter() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cluon::EnvelopeConverter::EnvelopeConverter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a77d823d0838c840b6f07ec108e044d0b" name="a77d823d0838c840b6f07ec108e044d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d823d0838c840b6f07ec108e044d0b">&#9670;&nbsp;</a></span>EnvelopeConverter() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cluon::EnvelopeConverter::EnvelopeConverter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e8ece063bd077c98698288eb4d49b65" name="a5e8ece063bd077c98698288eb4d49b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8ece063bd077c98698288eb4d49b65">&#9670;&nbsp;</a></span>EnvelopeConverter() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cluon::EnvelopeConverter::EnvelopeConverter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8d7438e6f54c7d4034688634a19ece83" name="a8d7438e6f54c7d4034688634a19ece83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7438e6f54c7d4034688634a19ece83">&#9670;&nbsp;</a></span>getJSONFromEnvelope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cluon::EnvelopeConverter::getJSONFromEnvelope </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcluon_1_1data_1_1Envelope.html">cluon::data::Envelope</a> &amp;&#160;</td>
          <td class="paramname"><em>envelope</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method transforms the given Envelope to JSON.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">envelope</td><td>Envelope. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON representation from given Envelope using the given message specification. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">14263</span>                                                                                            {</div>
<div class="line"><span class="lineno">14264</span>    std::string <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>{<span class="stringliteral">&quot;{}&quot;</span>};</div>
<div class="line"><span class="lineno">14265</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>.empty()) {</div>
<div class="line"><span class="lineno">14266</span>        <span class="keywordflow">if</span> (0 &lt; <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a>.count(envelope.<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">dataType</a>())) {</div>
<div class="line"><span class="lineno">14267</span>            <span class="comment">// First, create JSON from Envelope.</span></div>
<div class="line"><span class="lineno">14268</span>            <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> OUTER_CURLY_BRACES{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">14269</span>            <span class="comment">// Ignore field 2 (= serializedData) as it will be replaced below.</span></div>
<div class="line"><span class="lineno">14270</span>            <span class="keyword">const</span> std::map&lt;uint32_t, bool&gt; mask{{2, <span class="keyword">false</span>}};</div>
<div class="line"><span class="lineno">14271</span>            ToJSONVisitor envelopeToJSON{OUTER_CURLY_BRACES, mask};</div>
<div class="line"><span class="lineno">14272</span>            envelope.<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#afb1dfa6ca6a92b9c5eba3a1201b16dbd">accept</a>(envelopeToJSON);</div>
<div class="line"><span class="lineno">14273</span> </div>
<div class="line"><span class="lineno">14274</span>            std::stringstream sstr{envelope.<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#a9b33bb1e804140e808a61a995278f82b">serializedData</a>()};</div>
<div class="line"><span class="lineno">14275</span>            <a class="code hl_class" href="classcluon_1_1FromProtoVisitor.html">cluon::FromProtoVisitor</a> protoDecoder;</div>
<div class="line"><span class="lineno">14276</span>            protoDecoder.<a class="code hl_function" href="classcluon_1_1FromProtoVisitor.html#a40200331aef897bc2ec90d5cf9c20519">decodeFrom</a>(sstr);</div>
<div class="line"><span class="lineno">14277</span> </div>
<div class="line"><span class="lineno">14278</span>            <span class="comment">// Now, create JSON from payload.</span></div>
<div class="line"><span class="lineno">14279</span>            <a class="code hl_class" href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a> payload{<a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a>[envelope.<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">dataType</a>()]};</div>
<div class="line"><span class="lineno">14280</span>            <a class="code hl_class" href="classcluon_1_1GenericMessage.html">cluon::GenericMessage</a> gm;</div>
<div class="line"><span class="lineno">14281</span> </div>
<div class="line"><span class="lineno">14282</span>            <span class="comment">// Create &quot;empty&quot; GenericMessage from this MetaMessage.</span></div>
<div class="line"><span class="lineno">14283</span>            gm.<a class="code hl_function" href="classcluon_1_1GenericMessage.html#ad38acdbfe2d5ca936268d48d38fc7f6b">createFrom</a>(payload, <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>);</div>
<div class="line"><span class="lineno">14284</span> </div>
<div class="line"><span class="lineno">14285</span>            <span class="comment">// Set values in the newly created GenericMessage from ProtoDecoder.</span></div>
<div class="line"><span class="lineno">14286</span>            gm.<a class="code hl_function" href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">accept</a>(protoDecoder);</div>
<div class="line"><span class="lineno">14287</span> </div>
<div class="line"><span class="lineno">14288</span>            ToJSONVisitor payloadToJSON{OUTER_CURLY_BRACES};</div>
<div class="line"><span class="lineno">14289</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">14290</span>                <span class="comment">// Catch possible linb::any exception.</span></div>
<div class="line"><span class="lineno">14291</span>                gm.<a class="code hl_function" href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">accept</a>(payloadToJSON);</div>
<div class="line"><span class="lineno">14292</span>            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classlinb_1_1bad__any__cast.html">linb::bad_any_cast</a> &amp;) {} <span class="comment">// LCOV_EXCL_LINE</span></div>
<div class="line"><span class="lineno">14293</span> </div>
<div class="line"><span class="lineno">14294</span>            std::string tmp{payload.messageName()};</div>
<div class="line"><span class="lineno">14295</span>            std::replace(tmp.begin(), tmp.end(), <span class="charliteral">&#39;.&#39;</span>, <span class="charliteral">&#39;_&#39;</span>);</div>
<div class="line"><span class="lineno">14296</span> </div>
<div class="line"><span class="lineno">14297</span>            <span class="keyword">const</span> std::string strPayloadJSON{payloadToJSON.json() != <span class="stringliteral">&quot;{}&quot;</span> ? payloadToJSON.json() : <span class="stringliteral">&quot;&quot;</span>};</div>
<div class="line"><span class="lineno">14298</span> </div>
<div class="line"><span class="lineno">14299</span>            <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a> = <span class="charliteral">&#39;{&#39;</span> + envelopeToJSON.json() + <span class="charliteral">&#39;,&#39;</span> + <span class="charliteral">&#39;\n&#39;</span> + <span class="charliteral">&#39;&quot;&#39;</span> + tmp + <span class="charliteral">&#39;&quot;&#39;</span> + <span class="charliteral">&#39;:&#39;</span> + <span class="charliteral">&#39;{&#39;</span> + strPayloadJSON + <span class="charliteral">&#39;}&#39;</span> + <span class="charliteral">&#39;}&#39;</span>;</div>
<div class="line"><span class="lineno">14300</span>        }</div>
<div class="line"><span class="lineno">14301</span>    }</div>
<div class="line"><span class="lineno">14302</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>;</div>
<div class="line"><span class="lineno">14303</span>}</div>
<div class="ttc" id="aclasscluon_1_1EnvelopeConverter_html_a6bbbe4d409c8ed29627a6f12a8abe9ac"><div class="ttname"><a href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">cluon::EnvelopeConverter::m_scopeOfMetaMessages</a></div><div class="ttdeci">std::map&lt; int32_t, cluon::MetaMessage &gt; m_scopeOfMetaMessages</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8233</div></div>
<div class="ttc" id="aclasscluon_1_1EnvelopeConverter_html_a7b613993f8398e4d978d8400fdd6dd98"><div class="ttname"><a href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">cluon::EnvelopeConverter::m_listOfMetaMessages</a></div><div class="ttdeci">std::vector&lt; cluon::MetaMessage &gt; m_listOfMetaMessages</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8232</div></div>
<div class="ttc" id="aclasscluon_1_1FromProtoVisitor_html"><div class="ttname"><a href="classcluon_1_1FromProtoVisitor.html">cluon::FromProtoVisitor</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:6912</div></div>
<div class="ttc" id="aclasscluon_1_1FromProtoVisitor_html_a40200331aef897bc2ec90d5cf9c20519"><div class="ttname"><a href="classcluon_1_1FromProtoVisitor.html#a40200331aef897bc2ec90d5cf9c20519">cluon::FromProtoVisitor::decodeFrom</a></div><div class="ttdeci">void decodeFrom(std::istream &amp;in) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:11296</div></div>
<div class="ttc" id="aclasscluon_1_1GenericMessage_html"><div class="ttname"><a href="classcluon_1_1GenericMessage.html">cluon::GenericMessage</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8406</div></div>
<div class="ttc" id="aclasscluon_1_1GenericMessage_html_ad38acdbfe2d5ca936268d48d38fc7f6b"><div class="ttname"><a href="classcluon_1_1GenericMessage.html#ad38acdbfe2d5ca936268d48d38fc7f6b">cluon::GenericMessage::createFrom</a></div><div class="ttdeci">void createFrom(T &amp;msg)</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8487</div></div>
<div class="ttc" id="aclasscluon_1_1GenericMessage_html_af29d39495dde7f0ef332fcf5df8cb22b"><div class="ttname"><a href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">cluon::GenericMessage::accept</a></div><div class="ttdeci">void accept(uint32_t fieldId, Visitor &amp;visitor)</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8547</div></div>
<div class="ttc" id="aclasscluon_1_1MetaMessage_html"><div class="ttname"><a href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:5777</div></div>
<div class="ttc" id="aclasscluon_1_1data_1_1Envelope_html_a9b33bb1e804140e808a61a995278f82b"><div class="ttname"><a href="classcluon_1_1data_1_1Envelope.html#a9b33bb1e804140e808a61a995278f82b">cluon::data::Envelope::serializedData</a></div><div class="ttdeci">Envelope &amp; serializedData(const std::string &amp;v) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4643</div></div>
<div class="ttc" id="aclasscluon_1_1data_1_1Envelope_html_abc59b3c43fef22b8d12bbce309a1504c"><div class="ttname"><a href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">cluon::data::Envelope::dataType</a></div><div class="ttdeci">Envelope &amp; dataType(const int32_t &amp;v) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4635</div></div>
<div class="ttc" id="aclasscluon_1_1data_1_1Envelope_html_afb1dfa6ca6a92b9c5eba3a1201b16dbd"><div class="ttname"><a href="classcluon_1_1data_1_1Envelope.html#afb1dfa6ca6a92b9c5eba3a1201b16dbd">cluon::data::Envelope::accept</a></div><div class="ttdeci">void accept(uint32_t fieldId, Visitor &amp;visitor)</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4686</div></div>
<div class="ttc" id="aclasslinb_1_1bad__any__cast_html"><div class="ttname"><a href="classlinb_1_1bad__any__cast.html">linb::bad_any_cast</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:51</div></div>
<div class="ttc" id="acluon-complete_8hpp_html_ad4b02d239c8387bc0498b8a690ef5a16"><div class="ttname"><a href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; MetaMessage &gt;, MessageParserErrorCodes &gt; retVal</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:9859</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">cluon::GenericMessage::accept()</a>, <a class="el" href="classcluon_1_1GenericMessage.html#ad38acdbfe2d5ca936268d48d38fc7f6b">cluon::GenericMessage::createFrom()</a>, <a class="el" href="classcluon_1_1FromProtoVisitor.html#a40200331aef897bc2ec90d5cf9c20519">cluon::FromProtoVisitor::decodeFrom()</a>, and <a class="el" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcluon_1_1EnvelopeConverter_a8d7438e6f54c7d4034688634a19ece83_cgraph.png" border="0" usemap="#aclasscluon_1_1EnvelopeConverter_a8d7438e6f54c7d4034688634a19ece83_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="adb3484e4e1336792ffb51d870e0f8028" name="adb3484e4e1336792ffb51d870e0f8028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb3484e4e1336792ffb51d870e0f8028">&#9670;&nbsp;</a></span>getJSONFromProtoEncodedEnvelope()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cluon::EnvelopeConverter::getJSONFromProtoEncodedEnvelope </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>protoEncodedEnvelope</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method transforms the given Proto-encoded Envelope to JSON. The Proto-encoded envelope might be preceded with a 5-bytes OD4-header (optional).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protoEncodedEnvelope</td><td>Proto-encoded Envelope. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>JSON representation from given Proto-encoded Envelope using the given message specification. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">14230</span>                                                                                                                  {</div>
<div class="line"><span class="lineno">14231</span>    std::string <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>{<span class="stringliteral">&quot;{}&quot;</span>};</div>
<div class="line"><span class="lineno">14232</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>.empty()) {</div>
<div class="line"><span class="lineno">14233</span>        <a class="code hl_class" href="classcluon_1_1data_1_1Envelope.html">cluon::data::Envelope</a> envelope;</div>
<div class="line"><span class="lineno">14234</span>        std::stringstream sstr(protoEncodedEnvelope);</div>
<div class="line"><span class="lineno">14235</span>        <span class="keyword">constexpr</span> uint8_t OD4_HEADER_SIZE{5};</div>
<div class="line"><span class="lineno">14236</span>        <span class="keywordflow">if</span> (OD4_HEADER_SIZE &lt; protoEncodedEnvelope.size()) {</div>
<div class="line"><span class="lineno">14237</span>            <span class="comment">// Try decoding complete OD4-encoded Envelope including header.</span></div>
<div class="line"><span class="lineno">14238</span>            <span class="keyword">constexpr</span> uint8_t byte0{0x0D};</div>
<div class="line"><span class="lineno">14239</span>            <span class="keyword">constexpr</span> uint8_t byte1{0xA4};</div>
<div class="line"><span class="lineno">14240</span>            <span class="keywordflow">if</span> ((<span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(protoEncodedEnvelope.at(0)) == byte0) &amp;&amp; (<span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(protoEncodedEnvelope.at(1)) == byte1)) {</div>
<div class="line"><span class="lineno">14241</span>                uint32_t length = (*<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span>uint32_t *<span class="keyword">&gt;</span>(protoEncodedEnvelope.data() + 1));</div>
<div class="line"><span class="lineno">14242</span>                length          = le32toh(length) &gt;&gt; 8;</div>
<div class="line"><span class="lineno">14243</span>                <span class="keywordflow">if</span> ((OD4_HEADER_SIZE + length) == protoEncodedEnvelope.size()) {</div>
<div class="line"><span class="lineno">14244</span>                    <span class="keyword">auto</span> result{<a class="code hl_function" href="namespacecluon.html#abbf469eea6cc8400c8a0689a7414a570">extractEnvelope</a>(sstr)};</div>
<div class="line"><span class="lineno">14245</span>                    <span class="keywordflow">if</span> (result.first) {</div>
<div class="line"><span class="lineno">14246</span>                        envelope = result.second;</div>
<div class="line"><span class="lineno">14247</span>                    }</div>
<div class="line"><span class="lineno">14248</span>                }</div>
<div class="line"><span class="lineno">14249</span>            }</div>
<div class="line"><span class="lineno">14250</span>        }</div>
<div class="line"><span class="lineno">14251</span> </div>
<div class="line"><span class="lineno">14252</span>        <span class="keywordflow">if</span> (0 == envelope.<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">dataType</a>()) {</div>
<div class="line"><span class="lineno">14253</span>            <span class="comment">// Directly decoding complete OD4 container failed, try decoding without header.</span></div>
<div class="line"><span class="lineno">14254</span>            <a class="code hl_class" href="classcluon_1_1FromProtoVisitor.html">cluon::FromProtoVisitor</a> protoDecoder;</div>
<div class="line"><span class="lineno">14255</span>            protoDecoder.<a class="code hl_function" href="classcluon_1_1FromProtoVisitor.html#a40200331aef897bc2ec90d5cf9c20519">decodeFrom</a>(sstr, envelope);</div>
<div class="line"><span class="lineno">14256</span>        }</div>
<div class="line"><span class="lineno">14257</span> </div>
<div class="line"><span class="lineno">14258</span>        <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a> = <a class="code hl_function" href="classcluon_1_1EnvelopeConverter.html#a8d7438e6f54c7d4034688634a19ece83">getJSONFromEnvelope</a>(envelope);</div>
<div class="line"><span class="lineno">14259</span>    }</div>
<div class="line"><span class="lineno">14260</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>;</div>
<div class="line"><span class="lineno">14261</span>}</div>
<div class="ttc" id="aclasscluon_1_1EnvelopeConverter_html_a8d7438e6f54c7d4034688634a19ece83"><div class="ttname"><a href="classcluon_1_1EnvelopeConverter.html#a8d7438e6f54c7d4034688634a19ece83">cluon::EnvelopeConverter::getJSONFromEnvelope</a></div><div class="ttdeci">std::string getJSONFromEnvelope(cluon::data::Envelope &amp;envelope) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:14263</div></div>
<div class="ttc" id="aclasscluon_1_1data_1_1Envelope_html"><div class="ttname"><a href="classcluon_1_1data_1_1Envelope.html">cluon::data::Envelope</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4609</div></div>
<div class="ttc" id="anamespacecluon_html_abbf469eea6cc8400c8a0689a7414a570"><div class="ttname"><a href="namespacecluon.html#abbf469eea6cc8400c8a0689a7414a570">cluon::extractEnvelope</a></div><div class="ttdeci">std::pair&lt; bool, cluon::data::Envelope &gt; extractEnvelope(std::istream &amp;in) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8074</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">cluon::data::Envelope::dataType()</a>, <a class="el" href="classcluon_1_1FromProtoVisitor.html#a40200331aef897bc2ec90d5cf9c20519">cluon::FromProtoVisitor::decodeFrom()</a>, <a class="el" href="namespacecluon.html#abbf469eea6cc8400c8a0689a7414a570">cluon::extractEnvelope()</a>, and <a class="el" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcluon_1_1EnvelopeConverter_adb3484e4e1336792ffb51d870e0f8028_cgraph.png" border="0" usemap="#aclasscluon_1_1EnvelopeConverter_adb3484e4e1336792ffb51d870e0f8028_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a8416ac700d2c3c656260e2ea4b002397" name="a8416ac700d2c3c656260e2ea4b002397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8416ac700d2c3c656260e2ea4b002397">&#9670;&nbsp;</a></span>getProtoEncodedEnvelopeFromJSON() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cluon::EnvelopeConverter::getProtoEncodedEnvelopeFromJSON </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>messageIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>senderStamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method transforms a given JSON representation into a Proto-encoded Envelope including the prepended OD4-header and setting <a class="el" href="namespacecluon_1_1time.html#a4265a23bd4bd2b5ed37abff8dffddd25">cluon::time::now()</a> as sampleTimeStamp.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td>representation according to the given message specification. </td></tr>
    <tr><td class="paramname">messageIdentifier</td><td>The given JSON representation shall be interpreted as the specified message. </td></tr>
    <tr><td class="paramname">senderStamp</td><td>to be used in the Envelope. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Proto-encoded Envelope including OD4-header or empty string. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">14312</span>                                                                                                                                                   {</div>
<div class="line"><span class="lineno">14313</span>    <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">14314</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classcluon_1_1EnvelopeConverter.html#a8416ac700d2c3c656260e2ea4b002397">getProtoEncodedEnvelopeFromJSON</a>(json, messageIdentifier, senderStamp, <a class="code hl_function" href="namespacecluon_1_1time.html#a4265a23bd4bd2b5ed37abff8dffddd25">cluon::time::now</a>());</div>
<div class="line"><span class="lineno">14315</span>}</div>
<div class="ttc" id="aclasscluon_1_1EnvelopeConverter_html_a8416ac700d2c3c656260e2ea4b002397"><div class="ttname"><a href="classcluon_1_1EnvelopeConverter.html#a8416ac700d2c3c656260e2ea4b002397">cluon::EnvelopeConverter::getProtoEncodedEnvelopeFromJSON</a></div><div class="ttdeci">std::string getProtoEncodedEnvelopeFromJSON(const std::string &amp;json, int32_t messageIdentifier, uint32_t senderStamp) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:14312</div></div>
<div class="ttc" id="anamespacecluon_1_1time_html_a4265a23bd4bd2b5ed37abff8dffddd25"><div class="ttname"><a href="namespacecluon_1_1time.html#a4265a23bd4bd2b5ed37abff8dffddd25">cluon::time::now</a></div><div class="ttdeci">cluon::data::TimeStamp now() noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:5576</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacecluon_1_1time.html#a4265a23bd4bd2b5ed37abff8dffddd25">cluon::time::now()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcluon_1_1EnvelopeConverter_a8416ac700d2c3c656260e2ea4b002397_cgraph.png" border="0" usemap="#aclasscluon_1_1EnvelopeConverter_a8416ac700d2c3c656260e2ea4b002397_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ac046a7e7de1fec61f44ca2ece7df11bc" name="ac046a7e7de1fec61f44ca2ece7df11bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac046a7e7de1fec61f44ca2ece7df11bc">&#9670;&nbsp;</a></span>getProtoEncodedEnvelopeFromJSON() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cluon::EnvelopeConverter::getProtoEncodedEnvelopeFromJSON </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>messageIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>senderStamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcluon_1_1data_1_1TimeStamp.html">cluon::data::TimeStamp</a>&#160;</td>
          <td class="paramname"><em>sampleTimeStamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">14318</span>                                                                                                                                                                                       {</div>
<div class="line"><span class="lineno">14319</span>    <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">14320</span>    std::string <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>;</div>
<div class="line"><span class="lineno">14321</span>    <span class="keywordflow">if</span> (0 &lt; <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a>.count(messageIdentifier)) {</div>
<div class="line"><span class="lineno">14322</span>        <span class="comment">// Get specification for message to be created.</span></div>
<div class="line"><span class="lineno">14323</span>        <a class="code hl_class" href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a> message{<a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a>[messageIdentifier]};</div>
<div class="line"><span class="lineno">14324</span> </div>
<div class="line"><span class="lineno">14325</span>        <span class="comment">// Create &quot;empty&quot; instance for the required message as GenericMessage.</span></div>
<div class="line"><span class="lineno">14326</span>        <a class="code hl_class" href="classcluon_1_1GenericMessage.html">cluon::GenericMessage</a> gm;</div>
<div class="line"><span class="lineno">14327</span>        gm.<a class="code hl_function" href="classcluon_1_1GenericMessage.html#ad38acdbfe2d5ca936268d48d38fc7f6b">createFrom</a>(message, <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>);</div>
<div class="line"><span class="lineno">14328</span> </div>
<div class="line"><span class="lineno">14329</span>        <span class="comment">// Parse data from given JSON.</span></div>
<div class="line"><span class="lineno">14330</span>        std::stringstream sstr{json};</div>
<div class="line"><span class="lineno">14331</span>        <a class="code hl_class" href="classcluon_1_1FromJSONVisitor.html">cluon::FromJSONVisitor</a> jsonDecoder;</div>
<div class="line"><span class="lineno">14332</span>        jsonDecoder.<a class="code hl_function" href="classcluon_1_1FromJSONVisitor.html#a3ed257ce39404ce76c9b9471ff7f6b46">decodeFrom</a>(sstr);</div>
<div class="line"><span class="lineno">14333</span> </div>
<div class="line"><span class="lineno">14334</span>        <span class="comment">// Set values in the newly created GenericMessage from JSONDecoder.</span></div>
<div class="line"><span class="lineno">14335</span>        gm.<a class="code hl_function" href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">accept</a>(jsonDecoder);</div>
<div class="line"><span class="lineno">14336</span> </div>
<div class="line"><span class="lineno">14337</span>        <span class="comment">// Finally, transform GenericMessage into Envelope.</span></div>
<div class="line"><span class="lineno">14338</span>        ToProtoVisitor protoEncoder;</div>
<div class="line"><span class="lineno">14339</span>        gm.<a class="code hl_function" href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">accept</a>(protoEncoder);</div>
<div class="line"><span class="lineno">14340</span> </div>
<div class="line"><span class="lineno">14341</span>        <a class="code hl_class" href="classcluon_1_1data_1_1Envelope.html">cluon::data::Envelope</a> env;</div>
<div class="line"><span class="lineno">14342</span>        env.<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">dataType</a>(messageIdentifier).<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#a9b33bb1e804140e808a61a995278f82b">serializedData</a>(protoEncoder.encodedData()).<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#a1f544425b7a692e748ea90abe54642e2">senderStamp</a>(senderStamp).<a class="code hl_function" href="classcluon_1_1data_1_1Envelope.html#a6ca4f2516600faae6a166d109578c977">sampleTimeStamp</a>(sampleTimeStamp);</div>
<div class="line"><span class="lineno">14343</span> </div>
<div class="line"><span class="lineno">14344</span>        <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a> = <a class="code hl_function" href="namespacecluon.html#a8ff42dcd356aa1d0ef8e41a8aa2bead2">cluon::serializeEnvelope</a>(std::move(env));</div>
<div class="line"><span class="lineno">14345</span>    }</div>
<div class="line"><span class="lineno">14346</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>;</div>
<div class="line"><span class="lineno">14347</span>}</div>
<div class="ttc" id="aclasscluon_1_1FromJSONVisitor_html"><div class="ttname"><a href="classcluon_1_1FromJSONVisitor.html">cluon::FromJSONVisitor</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:7388</div></div>
<div class="ttc" id="aclasscluon_1_1FromJSONVisitor_html_a3ed257ce39404ce76c9b9471ff7f6b46"><div class="ttname"><a href="classcluon_1_1FromJSONVisitor.html#a3ed257ce39404ce76c9b9471ff7f6b46">cluon::FromJSONVisitor::decodeFrom</a></div><div class="ttdeci">void decodeFrom(std::istream &amp;in) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:12370</div></div>
<div class="ttc" id="aclasscluon_1_1data_1_1Envelope_html_a1f544425b7a692e748ea90abe54642e2"><div class="ttname"><a href="classcluon_1_1data_1_1Envelope.html#a1f544425b7a692e748ea90abe54642e2">cluon::data::Envelope::senderStamp</a></div><div class="ttdeci">Envelope &amp; senderStamp(const uint32_t &amp;v) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4675</div></div>
<div class="ttc" id="aclasscluon_1_1data_1_1Envelope_html_a6ca4f2516600faae6a166d109578c977"><div class="ttname"><a href="classcluon_1_1data_1_1Envelope.html#a6ca4f2516600faae6a166d109578c977">cluon::data::Envelope::sampleTimeStamp</a></div><div class="ttdeci">Envelope &amp; sampleTimeStamp(const cluon::data::TimeStamp &amp;v) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4667</div></div>
<div class="ttc" id="anamespacecluon_html_a8ff42dcd356aa1d0ef8e41a8aa2bead2"><div class="ttname"><a href="namespacecluon.html#a8ff42dcd356aa1d0ef8e41a8aa2bead2">cluon::serializeEnvelope</a></div><div class="ttdeci">std::string serializeEnvelope(cluon::data::Envelope &amp;&amp;envelope) noexcept</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:8031</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classcluon_1_1GenericMessage.html#af29d39495dde7f0ef332fcf5df8cb22b">cluon::GenericMessage::accept()</a>, <a class="el" href="classcluon_1_1GenericMessage.html#ad38acdbfe2d5ca936268d48d38fc7f6b">cluon::GenericMessage::createFrom()</a>, <a class="el" href="classcluon_1_1data_1_1Envelope.html#abc59b3c43fef22b8d12bbce309a1504c">cluon::data::Envelope::dataType()</a>, <a class="el" href="classcluon_1_1FromJSONVisitor.html#a3ed257ce39404ce76c9b9471ff7f6b46">cluon::FromJSONVisitor::decodeFrom()</a>, <a class="el" href="classcluon_1_1ToProtoVisitor.html#a20841380c5c8e865f30f92d164477e81">cluon::ToProtoVisitor::encodedData()</a>, <a class="el" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>, <a class="el" href="classcluon_1_1data_1_1Envelope.html#a6ca4f2516600faae6a166d109578c977">cluon::data::Envelope::sampleTimeStamp()</a>, <a class="el" href="classcluon_1_1data_1_1Envelope.html#a1f544425b7a692e748ea90abe54642e2">cluon::data::Envelope::senderStamp()</a>, <a class="el" href="classcluon_1_1data_1_1Envelope.html#a9b33bb1e804140e808a61a995278f82b">cluon::data::Envelope::serializedData()</a>, and <a class="el" href="namespacecluon.html#a8ff42dcd356aa1d0ef8e41a8aa2bead2">cluon::serializeEnvelope()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcluon_1_1EnvelopeConverter_ac046a7e7de1fec61f44ca2ece7df11bc_cgraph.png" border="0" usemap="#aclasscluon_1_1EnvelopeConverter_ac046a7e7de1fec61f44ca2ece7df11bc_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ab102d020ec1701c9e6b545f05f4dc6c8" name="ab102d020ec1701c9e6b545f05f4dc6c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab102d020ec1701c9e6b545f05f4dc6c8">&#9670;&nbsp;</a></span>getProtoEncodedEnvelopeFromJSONWithoutTimeStamps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string cluon::EnvelopeConverter::getProtoEncodedEnvelopeFromJSONWithoutTimeStamps </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>json</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>messageIdentifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>senderStamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method transforms a given JSON representation into a Proto-encoded Envelope including the prepended OD4-header.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td>representation according to the given message specification. </td></tr>
    <tr><td class="paramname">messageIdentifier</td><td>The given JSON representation shall be interpreted as the specified message. </td></tr>
    <tr><td class="paramname">senderStamp</td><td>to be used in the Envelope. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Proto-encoded Envelope including OD4-header or empty string. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">14306</span>                                                                                                                                                                    {</div>
<div class="line"><span class="lineno">14307</span>    <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">14308</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classcluon_1_1EnvelopeConverter.html#a8416ac700d2c3c656260e2ea4b002397">getProtoEncodedEnvelopeFromJSON</a>(json, messageIdentifier, senderStamp, <a class="code hl_class" href="classcluon_1_1data_1_1TimeStamp.html">cluon::data::TimeStamp</a>());</div>
<div class="line"><span class="lineno">14309</span>}</div>
<div class="ttc" id="aclasscluon_1_1data_1_1TimeStamp_html"><div class="ttname"><a href="classcluon_1_1data_1_1TimeStamp.html">cluon::data::TimeStamp</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:4402</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7614f0f507b9407874d4fecd316006c" name="af7614f0f507b9407874d4fecd316006c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7614f0f507b9407874d4fecd316006c">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp; cluon::EnvelopeConverter::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a232227fe86e65d155f0ef12461224ba4" name="a232227fe86e65d155f0ef12461224ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232227fe86e65d155f0ef12461224ba4">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp; cluon::EnvelopeConverter::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcluon_1_1EnvelopeConverter.html">EnvelopeConverter</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af4879d33814e727df61273fdd4ed973b" name="af4879d33814e727df61273fdd4ed973b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4879d33814e727df61273fdd4ed973b">&#9670;&nbsp;</a></span>setMessageSpecification()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t cluon::EnvelopeConverter::setMessageSpecification </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method sets the message specification to be used for interpreting a given Proto-encoded Envelope.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>Message specification following the ODVD format. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 in case of invalid message specification; otherwise, number of successfully parsed messages from given message specification. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">14214</span>                                                                                      {</div>
<div class="line"><span class="lineno">14215</span>    int32_t <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>{-1};</div>
<div class="line"><span class="lineno">14216</span> </div>
<div class="line"><span class="lineno">14217</span>    <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>.clear();</div>
<div class="line"><span class="lineno">14218</span>    <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a>.clear();</div>
<div class="line"><span class="lineno">14219</span> </div>
<div class="line"><span class="lineno">14220</span>    <a class="code hl_class" href="classcluon_1_1MessageParser.html">cluon::MessageParser</a> mp;</div>
<div class="line"><span class="lineno">14221</span>    <span class="keyword">auto</span> parsingResult = mp.<a class="code hl_function" href="classcluon_1_1MessageParser.html#a6ba94f0f1b6a790d8fe436ffa2512892">parse</a>(ms);</div>
<div class="line"><span class="lineno">14222</span>    <span class="keywordflow">if</span> (cluon::MessageParser::MessageParserErrorCodes::NO_MESSAGEPARSER_ERROR == parsingResult.second) {</div>
<div class="line"><span class="lineno">14223</span>        <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a> = parsingResult.first;</div>
<div class="line"><span class="lineno">14224</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code hl_variable" href="cluon-complete_8hpp.html#ac99d9adcdaabb55efe224341cde96631">mm</a> : <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>) { <a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a6bbbe4d409c8ed29627a6f12a8abe9ac">m_scopeOfMetaMessages</a>[<a class="code hl_variable" href="cluon-complete_8hpp.html#ac99d9adcdaabb55efe224341cde96631">mm</a>.messageIdentifier()] = <a class="code hl_variable" href="cluon-complete_8hpp.html#ac99d9adcdaabb55efe224341cde96631">mm</a>; }</div>
<div class="line"><span class="lineno">14225</span>        <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a> = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="classcluon_1_1EnvelopeConverter.html#a7b613993f8398e4d978d8400fdd6dd98">m_listOfMetaMessages</a>.size());</div>
<div class="line"><span class="lineno">14226</span>    }</div>
<div class="line"><span class="lineno">14227</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>;</div>
<div class="line"><span class="lineno">14228</span>}</div>
<div class="ttc" id="aclasscluon_1_1MessageParser_html"><div class="ttname"><a href="classcluon_1_1MessageParser.html">cluon::MessageParser</a></div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:6010</div></div>
<div class="ttc" id="aclasscluon_1_1MessageParser_html_a6ba94f0f1b6a790d8fe436ffa2512892"><div class="ttname"><a href="classcluon_1_1MessageParser.html#a6ba94f0f1b6a790d8fe436ffa2512892">cluon::MessageParser::parse</a></div><div class="ttdeci">std::pair&lt; std::vector&lt; MetaMessage &gt;, MessageParserErrorCodes &gt; parse(const std::string &amp;input)</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:9572</div></div>
<div class="ttc" id="acluon-complete_8hpp_html_ac99d9adcdaabb55efe224341cde96631"><div class="ttname"><a href="cluon-complete_8hpp.html#ac99d9adcdaabb55efe224341cde96631">mm</a></div><div class="ttdeci">return mm</div><div class="ttdef"><b>Definition:</b> cluon-complete.hpp:9825</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cluon-complete_8hpp.html#ac99d9adcdaabb55efe224341cde96631">mm</a>, <a class="el" href="classcluon_1_1MessageParser.html#a6ba94f0f1b6a790d8fe436ffa2512892">cluon::MessageParser::parse()</a>, and <a class="el" href="cluon-complete_8hpp.html#ad4b02d239c8387bc0498b8a690ef5a16">retVal</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classcluon_1_1EnvelopeConverter_af4879d33814e727df61273fdd4ed973b_cgraph.png" border="0" usemap="#aclasscluon_1_1EnvelopeConverter_af4879d33814e727df61273fdd4ed973b_cgraph" alt=""/></div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7b613993f8398e4d978d8400fdd6dd98" name="a7b613993f8398e4d978d8400fdd6dd98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b613993f8398e4d978d8400fdd6dd98">&#9670;&nbsp;</a></span>m_listOfMetaMessages</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a>&gt; cluon::EnvelopeConverter::m_listOfMetaMessages {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6bbbe4d409c8ed29627a6f12a8abe9ac" name="a6bbbe4d409c8ed29627a6f12a8abe9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bbbe4d409c8ed29627a6f12a8abe9ac">&#9670;&nbsp;</a></span>m_scopeOfMetaMessages</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int32_t, <a class="el" href="classcluon_1_1MetaMessage.html">cluon::MetaMessage</a>&gt; cluon::EnvelopeConverter::m_scopeOfMetaMessages {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="cluon-complete_8hpp_source.html">cluon-complete.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
